{"version":3,"file":"module.js","sources":["../src/helpers.ts","../node_modules/diff-dom/dist/module.js","../src/virtual_dom.ts","../node_modules/dayjs/dayjs.min.js","../node_modules/dayjs/plugin/customParseFormat.js","../src/date.ts","../src/read_data.ts","../src/rows.ts","../src/columns.ts","../src/column_settings.ts","../src/templates.ts","../src/config.ts","../src/virtual_pager_dom.ts","../src/datatable.ts","../src/convert/csv.ts","../src/convert/json.ts","../src/export/csv.ts","../src/export/json.ts","../src/export/sql.ts","../src/export/txt.ts","../src/editing/config.ts","../src/editing/editor.ts","../src/editing/helpers.ts"],"sourcesContent":["import {elementNodeType, columnSettingsType, textNodeType} from \"./types\"\n\n/**\n * Check is item is object\n */\nexport const isObject = (val: (string | number | boolean | object | null | undefined )) => Object.prototype.toString.call(val) === \"[object Object]\"\n\n/**\n * Check for valid JSON string\n */\nexport const isJson = (str: string) => {\n    let t = !1\n    try {\n        t = JSON.parse(str)\n    } catch (e) {\n        return !1\n    }\n    return !(null === t || (!Array.isArray(t) && !isObject(t))) && t\n}\n\n/**\n * Create DOM element node\n */\nexport const createElement = (nodeName: string, attrs?: { [key: string]: string}) => {\n    const dom = document.createElement(nodeName)\n    if (attrs && \"object\" == typeof attrs) {\n        for (const attr in attrs) {\n            if (\"html\" === attr) {\n                dom.innerHTML = attrs[attr]\n            } else {\n                dom.setAttribute(attr, attrs[attr])\n            }\n        }\n    }\n    return dom\n}\n\nexport const objToText = (obj: (elementNodeType| textNodeType)) => {\n    if ([\"#text\", \"#comment\"].includes(obj.nodeName)) {\n        return (obj as textNodeType).data\n    }\n    if (obj.childNodes) {\n        return obj.childNodes.map((childNode: (elementNodeType | textNodeType)) => objToText(childNode)).join(\"\")\n    }\n    return \"\"\n}\n\n\nexport const escapeText = function(text: string) {\n    return text\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n}\n\n\nexport const visibleToColumnIndex = function(visibleIndex: number, columns: columnSettingsType[]) {\n    let counter = 0\n    let columnIndex = 0\n    while (counter < (visibleIndex+1)) {\n        const columnSettings = columns[columnIndex]\n        if (!columnSettings.hidden) {\n            counter += 1\n        }\n        columnIndex += 1\n    }\n    return columnIndex-1\n}\n\nexport const columnToVisibleIndex = function(columnIndex: number, columns: columnSettingsType[]) {\n    let visibleIndex = columnIndex\n    let counter = 0\n    while (counter < columnIndex) {\n        const columnSettings = columns[columnIndex]\n        if (columnSettings.hidden) {\n            visibleIndex -= 1\n        }\n        counter++\n    }\n    return visibleIndex\n}\n","function e(t,n,o){var s;return\"#text\"===t.nodeName?s=o.document.createTextNode(t.data):\"#comment\"===t.nodeName?s=o.document.createComment(t.data):(n?s=o.document.createElementNS(\"http://www.w3.org/2000/svg\",t.nodeName):\"svg\"===t.nodeName.toLowerCase()?(s=o.document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),n=!0):s=o.document.createElement(t.nodeName),t.attributes&&Object.entries(t.attributes).forEach((function(e){var t=e[0],n=e[1];return s.setAttribute(t,n)})),t.childNodes&&t.childNodes.forEach((function(t){return s.appendChild(e(t,n,o))})),o.valueDiffing&&(t.value&&(s instanceof HTMLButtonElement||s instanceof HTMLDataElement||s instanceof HTMLInputElement||s instanceof HTMLLIElement||s instanceof HTMLMeterElement||s instanceof HTMLOptionElement||s instanceof HTMLProgressElement||s instanceof HTMLParamElement)&&(s.value=t.value),t.checked&&s instanceof HTMLInputElement&&(s.checked=t.checked),t.selected&&s instanceof HTMLOptionElement&&(s.selected=t.selected))),s}var t=function(e,t){for(t=t.slice();t.length>0;){var n=t.splice(0,1)[0];e=e.childNodes[n]}return e};function n(n,o,s){var i,a,c,l=o[s._const.action],r=o[s._const.route];[s._const.addElement,s._const.addTextElement].includes(l)||(i=t(n,r));var u={diff:o,node:i};if(s.preDiffApply(u))return!0;switch(l){case s._const.addAttribute:if(!(i&&i instanceof Element))return!1;i.setAttribute(o[s._const.name],o[s._const.value]);break;case s._const.modifyAttribute:if(!(i&&i instanceof Element))return!1;i.setAttribute(o[s._const.name],o[s._const.newValue]),i instanceof HTMLInputElement&&\"value\"===o[s._const.name]&&(i.value=o[s._const.newValue]);break;case s._const.removeAttribute:if(!(i&&i instanceof Element))return!1;i.removeAttribute(o[s._const.name]);break;case s._const.modifyTextElement:if(!(i&&i instanceof Text))return!1;s.textDiff(i,i.data,o[s._const.oldValue],o[s._const.newValue]);break;case s._const.modifyValue:if(!i||void 0===i.value)return!1;i.value=o[s._const.newValue];break;case s._const.modifyComment:if(!(i&&i instanceof Comment))return!1;s.textDiff(i,i.data,o[s._const.oldValue],o[s._const.newValue]);break;case s._const.modifyChecked:if(!i||void 0===i.checked)return!1;i.checked=o[s._const.newValue];break;case s._const.modifySelected:if(!i||void 0===i.selected)return!1;i.selected=o[s._const.newValue];break;case s._const.replaceElement:i.parentNode.replaceChild(e(o[s._const.newValue],\"svg\"===o[s._const.newValue].nodeName.toLowerCase(),s),i);break;case s._const.relocateGroup:Array.apply(void 0,new Array(o[s._const.groupLength])).map((function(){return i.removeChild(i.childNodes[o[s._const.from]])})).forEach((function(e,t){0===t&&(c=i.childNodes[o[s._const.to]]),i.insertBefore(e,c||null)}));break;case s._const.removeElement:i.parentNode.removeChild(i);break;case s._const.addElement:var d=(h=r.slice()).splice(h.length-1,1)[0];if(!((i=t(n,h))instanceof Element))return!1;i.insertBefore(e(o[s._const.element],\"http://www.w3.org/2000/svg\"===i.namespaceURI,s),i.childNodes[d]||null);break;case s._const.removeTextElement:if(!i||3!==i.nodeType)return!1;i.parentNode.removeChild(i);break;case s._const.addTextElement:var h;d=(h=r.slice()).splice(h.length-1,1)[0];if(a=s.document.createTextNode(o[s._const.value]),!(i=t(n,h)).childNodes)return!1;i.insertBefore(a,i.childNodes[d]||null);break;default:console.log(\"unknown action\")}return s.postDiffApply({diff:u.diff,node:u.node,newNode:a}),!0}function o(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function s(e,t,s){(t=t.slice()).reverse(),t.forEach((function(t){!function(e,t,s){switch(t[s._const.action]){case s._const.addAttribute:t[s._const.action]=s._const.removeAttribute,n(e,t,s);break;case s._const.modifyAttribute:o(t,s._const.oldValue,s._const.newValue),n(e,t,s);break;case s._const.removeAttribute:t[s._const.action]=s._const.addAttribute,n(e,t,s);break;case s._const.modifyTextElement:case s._const.modifyValue:case s._const.modifyComment:case s._const.modifyChecked:case s._const.modifySelected:case s._const.replaceElement:o(t,s._const.oldValue,s._const.newValue),n(e,t,s);break;case s._const.relocateGroup:o(t,s._const.from,s._const.to),n(e,t,s);break;case s._const.removeElement:t[s._const.action]=s._const.addElement,n(e,t,s);break;case s._const.addElement:t[s._const.action]=s._const.removeElement,n(e,t,s);break;case s._const.removeTextElement:t[s._const.action]=s._const.addTextElement,n(e,t,s);break;case s._const.addTextElement:t[s._const.action]=s._const.removeTextElement,n(e,t,s);break;default:console.log(\"unknown action\")}}(e,t,s)}))}var i=function(e){var t=[];return t.push(e.nodeName),\"#text\"!==e.nodeName&&\"#comment\"!==e.nodeName&&e.attributes&&(e.attributes.class&&t.push(\"\".concat(e.nodeName,\".\").concat(e.attributes.class.replace(/ /g,\".\"))),e.attributes.id&&t.push(\"\".concat(e.nodeName,\"#\").concat(e.attributes.id))),t},a=function(e){var t={},n={};return e.forEach((function(e){i(e).forEach((function(e){var o=e in t;o||e in n?o&&(delete t[e],n[e]=!0):t[e]=!0}))})),t},c=function(e,t){var n=a(e),o=a(t),s={};return Object.keys(n).forEach((function(e){o[e]&&(s[e]=!0)})),s},l=function(e){return delete e.outerDone,delete e.innerDone,delete e.valueDone,!e.childNodes||e.childNodes.every(l)},r=function(e){if(Object.prototype.hasOwnProperty.call(e,\"data\"))return{nodeName:\"#text\"===e.nodeName?\"#text\":\"#comment\",data:e.data};var t={nodeName:e.nodeName};return Object.prototype.hasOwnProperty.call(e,\"attributes\")&&(t.attributes=e.attributes),Object.prototype.hasOwnProperty.call(e,\"checked\")&&(t.checked=e.checked),Object.prototype.hasOwnProperty.call(e,\"value\")&&(t.value=e.value),Object.prototype.hasOwnProperty.call(e,\"selected\")&&(t.selected=e.selected),Object.prototype.hasOwnProperty.call(e,\"childNodes\")&&(t.childNodes=e.childNodes.map((function(e){return r(e)}))),t},u=function(e,t){if(![\"nodeName\",\"value\",\"checked\",\"selected\",\"data\"].every((function(n){return e[n]===t[n]})))return!1;if(Object.prototype.hasOwnProperty.call(e,\"data\"))return!0;if(Boolean(e.attributes)!==Boolean(t.attributes))return!1;if(Boolean(e.childNodes)!==Boolean(t.childNodes))return!1;if(e.attributes){var n=Object.keys(e.attributes),o=Object.keys(t.attributes);if(n.length!==o.length)return!1;if(!n.every((function(n){return e.attributes[n]===t.attributes[n]})))return!1}if(e.childNodes){if(e.childNodes.length!==t.childNodes.length)return!1;if(!e.childNodes.every((function(e,n){return u(e,t.childNodes[n])})))return!1}return!0},d=function(e,t,n,o,s){if(void 0===s&&(s=!1),!e||!t)return!1;if(e.nodeName!==t.nodeName)return!1;if([\"#text\",\"#comment\"].includes(e.nodeName))return!!s||e.data===t.data;if(e.nodeName in n)return!0;if(e.attributes&&t.attributes){if(e.attributes.id){if(e.attributes.id!==t.attributes.id)return!1;if(\"\".concat(e.nodeName,\"#\").concat(e.attributes.id)in n)return!0}if(e.attributes.class&&e.attributes.class===t.attributes.class)if(\"\".concat(e.nodeName,\".\").concat(e.attributes.class.replace(/ /g,\".\"))in n)return!0}if(o)return!0;var i=e.childNodes?e.childNodes.slice().reverse():[],a=t.childNodes?t.childNodes.slice().reverse():[];if(i.length!==a.length)return!1;if(s)return i.every((function(e,t){return e.nodeName===a[t].nodeName}));var l=c(i,a);return i.every((function(e,t){return d(e,a[t],l,!0,!0)}))},h=function(e,t){return Array.apply(void 0,new Array(e)).map((function(){return t}))},f=function(e,t){for(var n=e.childNodes?e.childNodes:[],o=t.childNodes?t.childNodes:[],s=h(n.length,!1),a=h(o.length,!1),l=[],r=function(){return arguments[1]},u=!1,f=function(){var e=function(e,t,n,o){var s=0,a=[],l=e.length,r=t.length,u=Array.apply(void 0,new Array(l+1)).map((function(){return[]})),h=c(e,t),f=l===r;f&&e.some((function(e,n){var o=i(e),s=i(t[n]);return o.length!==s.length?(f=!1,!0):(o.some((function(e,t){if(e!==s[t])return f=!1,!0})),!f||void 0)}));for(var p=0;p<l;p++)for(var m=e[p],_=0;_<r;_++){var V=t[_];n[p]||o[_]||!d(m,V,h,f)?u[p+1][_+1]=0:(u[p+1][_+1]=u[p][_]?u[p][_]+1:1,u[p+1][_+1]>=s&&(s=u[p+1][_+1],a=[p+1,_+1]))}return 0!==s&&{oldValue:a[0]-s,newValue:a[1]-s,length:s}}(n,o,s,a);e?(l.push(e),Array.apply(void 0,new Array(e.length)).map(r).forEach((function(t){return function(e,t,n,o){e[n.oldValue+o]=!0,t[n.newValue+o]=!0}(s,a,e,t)}))):u=!0};!u;)f();return e.subsets=l,e.subsetsAge=100,l},p=function(){function e(){this.list=[]}return e.prototype.add=function(e){var t;(t=this.list).push.apply(t,e)},e.prototype.forEach=function(e){this.list.forEach((function(t){return e(t)}))},e}(),m=function(){function e(e){void 0===e&&(e={});var t=this;Object.entries(e).forEach((function(e){var n=e[0],o=e[1];return t[n]=o}))}return e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.setValue=function(e,t){return this[e]=t,this},e}();function _(e,t){var n,o,s=e;for(t=t.slice();t.length>0;)o=t.splice(0,1)[0],n=s,s=s.childNodes?s.childNodes[o]:void 0;return{node:s,parentNode:n,nodeIndex:o}}function V(e,t,n){return t.forEach((function(t){!function(e,t,n){var o,s,i,a;if(![n._const.addElement,n._const.addTextElement].includes(t[n._const.action])){var c=_(e,t[n._const.route]);s=c.node,i=c.parentNode,a=c.nodeIndex}var l,r,u=[],d={diff:t,node:s};if(n.preVirtualDiffApply(d))return!0;switch(t[n._const.action]){case n._const.addAttribute:s.attributes||(s.attributes={}),s.attributes[t[n._const.name]]=t[n._const.value],\"checked\"===t[n._const.name]?s.checked=!0:\"selected\"===t[n._const.name]?s.selected=!0:\"INPUT\"===s.nodeName&&\"value\"===t[n._const.name]&&(s.value=t[n._const.value]);break;case n._const.modifyAttribute:s.attributes[t[n._const.name]]=t[n._const.newValue];break;case n._const.removeAttribute:delete s.attributes[t[n._const.name]],0===Object.keys(s.attributes).length&&delete s.attributes,\"checked\"===t[n._const.name]?s.checked=!1:\"selected\"===t[n._const.name]?delete s.selected:\"INPUT\"===s.nodeName&&\"value\"===t[n._const.name]&&delete s.value;break;case n._const.modifyTextElement:s.data=t[n._const.newValue];break;case n._const.modifyValue:s.value=t[n._const.newValue];break;case n._const.modifyComment:s.data=t[n._const.newValue];break;case n._const.modifyChecked:s.checked=t[n._const.newValue];break;case n._const.modifySelected:s.selected=t[n._const.newValue];break;case n._const.replaceElement:l=t[n._const.newValue],i.childNodes[a]=l;break;case n._const.relocateGroup:s.childNodes.splice(t[n._const.from],t[n._const.groupLength]).reverse().forEach((function(e){return s.childNodes.splice(t[n._const.to],0,e)})),s.subsets&&s.subsets.forEach((function(e){if(t[n._const.from]<t[n._const.to]&&e.oldValue<=t[n._const.to]&&e.oldValue>t[n._const.from])e.oldValue-=t[n._const.groupLength],(o=e.oldValue+e.length-t[n._const.to])>0&&(u.push({oldValue:t[n._const.to]+t[n._const.groupLength],newValue:e.newValue+e.length-o,length:o}),e.length-=o);else if(t[n._const.from]>t[n._const.to]&&e.oldValue>t[n._const.to]&&e.oldValue<t[n._const.from]){var o;e.oldValue+=t[n._const.groupLength],(o=e.oldValue+e.length-t[n._const.to])>0&&(u.push({oldValue:t[n._const.to]+t[n._const.groupLength],newValue:e.newValue+e.length-o,length:o}),e.length-=o)}else e.oldValue===t[n._const.from]&&(e.oldValue=t[n._const.to])}));break;case n._const.removeElement:i.childNodes.splice(a,1),i.subsets&&i.subsets.forEach((function(e){e.oldValue>a?e.oldValue-=1:e.oldValue===a?e.delete=!0:e.oldValue<a&&e.oldValue+e.length>a&&(e.oldValue+e.length-1===a?e.length--:(u.push({newValue:e.newValue+a-e.oldValue,oldValue:a,length:e.length-a+e.oldValue-1}),e.length=a-e.oldValue))})),s=i;break;case n._const.addElement:var h=(r=t[n._const.route].slice()).splice(r.length-1,1)[0];s=null===(o=_(e,r))||void 0===o?void 0:o.node,l=t[n._const.element],s.childNodes||(s.childNodes=[]),h>=s.childNodes.length?s.childNodes.push(l):s.childNodes.splice(h,0,l),s.subsets&&s.subsets.forEach((function(e){if(e.oldValue>=h)e.oldValue+=1;else if(e.oldValue<h&&e.oldValue+e.length>h){var t=e.oldValue+e.length-h;u.push({newValue:e.newValue+e.length-t,oldValue:h+1,length:t}),e.length-=t}}));break;case n._const.removeTextElement:i.childNodes.splice(a,1),\"TEXTAREA\"===i.nodeName&&delete i.value,i.subsets&&i.subsets.forEach((function(e){e.oldValue>a?e.oldValue-=1:e.oldValue===a?e.delete=!0:e.oldValue<a&&e.oldValue+e.length>a&&(e.oldValue+e.length-1===a?e.length--:(u.push({newValue:e.newValue+a-e.oldValue,oldValue:a,length:e.length-a+e.oldValue-1}),e.length=a-e.oldValue))})),s=i;break;case n._const.addTextElement:var f=(r=t[n._const.route].slice()).splice(r.length-1,1)[0];(l={}).nodeName=\"#text\",l.data=t[n._const.value],(s=_(e,r).node).childNodes||(s.childNodes=[]),f>=s.childNodes.length?s.childNodes.push(l):s.childNodes.splice(f,0,l),\"TEXTAREA\"===s.nodeName&&(s.value=t[n._const.newValue]),s.subsets&&s.subsets.forEach((function(e){if(e.oldValue>=f&&(e.oldValue+=1),e.oldValue<f&&e.oldValue+e.length>f){var t=e.oldValue+e.length-f;u.push({newValue:e.newValue+e.length-t,oldValue:f+1,length:t}),e.length-=t}}));break;default:console.log(\"unknown action\")}s.subsets&&(s.subsets=s.subsets.filter((function(e){return!e.delete&&e.oldValue!==e.newValue})),u.length&&(s.subsets=s.subsets.concat(u))),n.postVirtualDiffApply({node:d.node,diff:d.diff,newNode:l})}(e,t,n)})),!0}function g(e,t){void 0===t&&(t={});var n={nodeName:e.nodeName};if(e instanceof Text||e instanceof Comment)n.data=e.data;else{if(e.attributes&&e.attributes.length>0)n.attributes={},Array.prototype.slice.call(e.attributes).forEach((function(e){return n.attributes[e.name]=e.value}));if(e instanceof HTMLTextAreaElement)n.value=e.value;else if(e.childNodes&&e.childNodes.length>0){n.childNodes=[],Array.prototype.slice.call(e.childNodes).forEach((function(e){return n.childNodes.push(g(e,t))}))}t.valueDiffing&&(e instanceof HTMLInputElement&&[\"radio\",\"checkbox\"].includes(e.type.toLowerCase())&&void 0!==e.checked?n.checked=e.checked:(e instanceof HTMLButtonElement||e instanceof HTMLDataElement||e instanceof HTMLInputElement||e instanceof HTMLLIElement||e instanceof HTMLMeterElement||e instanceof HTMLOptionElement||e instanceof HTMLProgressElement||e instanceof HTMLParamElement)&&(n.value=e.value),e instanceof HTMLOptionElement&&(n.selected=e.selected))}return n}var v=/<\\s*\\/*[a-zA-Z:_][a-zA-Z0-9:_\\-.]*\\s*(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\"/>])*\\/*\\s*>|<!--(?:.|\\n|\\r)*?-->/g,N=Object.create?Object.create(null):{},b=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function y(e){return e.replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\").replace(/&amp;/g,\"&\")}var w={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},E=function(e){var t={nodeName:\"\",attributes:{}},n=!1,o=e.match(/<\\/?([^\\s]+?)[/\\s>]/);if(o&&(t.nodeName=o[1].toUpperCase(),(w[o[1]]||\"/\"===e.charAt(e.length-2))&&(n=!0),t.nodeName.startsWith(\"!--\"))){var s=e.indexOf(\"--\\x3e\");return{type:\"comment\",node:{nodeName:\"#comment\",data:-1!==s?e.slice(4,s):\"\"},voidElement:n}}for(var i=new RegExp(b),a=null,c=!1;!c;)if(null===(a=i.exec(e)))c=!0;else if(a[0].trim())if(a[1]){var l=a[1].trim(),r=[l,\"\"];l.indexOf(\"=\")>-1&&(r=l.split(\"=\")),t.attributes[r[0]]=r[1],i.lastIndex--}else a[2]&&(t.attributes[a[2]]=a[3].trim().substring(1,a[3].length-1));return{type:\"tag\",node:t,voidElement:n}},k=function(e,t){void 0===t&&(t={components:N});var n,o=[],s=-1,i=[],a=!1;if(0!==e.indexOf(\"<\")){var c=e.indexOf(\"<\");o.push({nodeName:\"#text\",data:-1===c?e:e.substring(0,c)})}return e.replace(v,(function(c,l){if(a){if(c!==\"</\".concat(n.node.nodeName,\">\"))return\"\";a=!1}var r=\"/\"!==c.charAt(1),u=c.startsWith(\"\\x3c!--\"),d=l+c.length,h=e.charAt(d);if(u){var f=E(c).node;if(s<0)return o.push(f),\"\";var p=i[s];return p&&f.nodeName&&(p.node.childNodes||(p.node.childNodes=[]),p.node.childNodes.push(f)),\"\"}if(r){n=E(c),s++,\"tag\"===n.type&&t.components[n.node.nodeName]&&(n.type=\"component\",a=!0),n.voidElement||a||!h||\"<\"===h||(n.node.childNodes||(n.node.childNodes=[]),n.node.childNodes.push({nodeName:\"#text\",data:y(e.slice(d,e.indexOf(\"<\",d)))})),0===s&&n.node.nodeName&&o.push(n.node);var m=i[s-1];m&&n.node.nodeName&&(m.node.childNodes||(m.node.childNodes=[]),m.node.childNodes.push(n.node)),i[s]=n}if((!r||n.voidElement)&&(s>-1&&(n.voidElement||n.node.nodeName===c.slice(2,-1).toUpperCase())&&--s>-1&&(n=i[s]),!a&&\"<\"!==h&&h)){var _=-1===s?o:i[s].node.childNodes||[],V=e.indexOf(\"<\",d),g=y(e.slice(d,-1===V?void 0:V));_.push({nodeName:\"#text\",data:g})}return\"\"})),o[0]},x=function(){function e(e,t,n){this.options=n,this.t1=\"undefined\"!=typeof Element&&e instanceof Element?g(e,this.options):\"string\"==typeof e?k(e,this.options):JSON.parse(JSON.stringify(e)),this.t2=\"undefined\"!=typeof Element&&t instanceof Element?g(t,this.options):\"string\"==typeof t?k(t,this.options):JSON.parse(JSON.stringify(t)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=\"undefined\"!=typeof Element&&e instanceof Element?g(e,this.options):\"string\"==typeof e?k(e,this.options):JSON.parse(JSON.stringify(e)),this.t2Orig=\"undefined\"!=typeof Element&&t instanceof Element?g(t,this.options):\"string\"==typeof t?k(t,this.options):JSON.parse(JSON.stringify(t))),this.tracker=new p}return e.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},e.prototype.findDiffs=function(e,t){var n;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error(\"surpassed diffcap:\".concat(JSON.stringify(this.t1Orig),\" -> \").concat(JSON.stringify(this.t2Orig)));0===(n=this.findNextDiff(e,t,[])).length&&(u(e,t)||(this.foundAll?console.error(\"Could not find remaining diffs!\"):(this.foundAll=!0,l(e),n=this.findNextDiff(e,t,[])))),n.length>0&&(this.foundAll=!1,this.tracker.add(n),V(e,n,this.options))}while(n.length>0);return this.tracker.list},e.prototype.findNextDiff=function(e,t,n){var o,s;if(this.options.maxDepth&&n.length>this.options.maxDepth)return[];if(!e.outerDone){if(o=this.findOuterDiff(e,t,n),this.options.filterOuterDiff&&(s=this.options.filterOuterDiff(e,t,o))&&(o=s),o.length>0)return e.outerDone=!0,o;e.outerDone=!0}if(Object.prototype.hasOwnProperty.call(e,\"data\"))return[];if(!e.innerDone){if((o=this.findInnerDiff(e,t,n)).length>0)return o;e.innerDone=!0}if(this.options.valueDiffing&&!e.valueDone){if((o=this.findValueDiff(e,t,n)).length>0)return e.valueDone=!0,o;e.valueDone=!0}return[]},e.prototype.findOuterDiff=function(e,t,n){var o,s,i,a,c,l,u=[];if(e.nodeName!==t.nodeName){if(!n.length)throw new Error(\"Top level nodes have to be of the same kind.\");return[(new m).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,r(e)).setValue(this.options._const.newValue,r(t)).setValue(this.options._const.route,n)]}if(n.length&&this.options.diffcap<Math.abs((e.childNodes||[]).length-(t.childNodes||[]).length))return[(new m).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,r(e)).setValue(this.options._const.newValue,r(t)).setValue(this.options._const.route,n)];if(Object.prototype.hasOwnProperty.call(e,\"data\")&&e.data!==t.data)return\"#text\"===e.nodeName?[(new m).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,n).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)]:[(new m).setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,n).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)];for(s=e.attributes?Object.keys(e.attributes).sort():[],i=t.attributes?Object.keys(t.attributes).sort():[],a=s.length,l=0;l<a;l++)o=s[l],-1===(c=i.indexOf(o))?u.push((new m).setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,n).setValue(this.options._const.name,o).setValue(this.options._const.value,e.attributes[o])):(i.splice(c,1),e.attributes[o]!==t.attributes[o]&&u.push((new m).setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,n).setValue(this.options._const.name,o).setValue(this.options._const.oldValue,e.attributes[o]).setValue(this.options._const.newValue,t.attributes[o])));for(a=i.length,l=0;l<a;l++)o=i[l],u.push((new m).setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,n).setValue(this.options._const.name,o).setValue(this.options._const.value,t.attributes[o]));return u},e.prototype.findInnerDiff=function(e,t,n){var o=e.childNodes?e.childNodes.slice():[],s=t.childNodes?t.childNodes.slice():[],i=Math.max(o.length,s.length),a=Math.abs(o.length-s.length),c=[],l=0;if(!this.options.maxChildCount||i<this.options.maxChildCount){var d=Boolean(e.subsets&&e.subsetsAge--),h=d?e.subsets:e.childNodes&&t.childNodes?f(e,t):[];if(h.length>0&&(c=this.attemptGroupRelocation(e,t,h,n,d)).length>0)return c}for(var p=0;p<i;p+=1){var _=o[p],V=s[p];if(a&&(_&&!V?\"#text\"===_.nodeName?(c.push((new m).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,n.concat(l)).setValue(this.options._const.value,_.data)),l-=1):(c.push((new m).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,n.concat(l)).setValue(this.options._const.element,r(_))),l-=1):V&&!_&&(\"#text\"===V.nodeName?c.push((new m).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,n.concat(l)).setValue(this.options._const.value,V.data)):c.push((new m).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,n.concat(l)).setValue(this.options._const.element,r(V))))),_&&V)if(!this.options.maxChildCount||i<this.options.maxChildCount)c=c.concat(this.findNextDiff(_,V,n.concat(l)));else if(!u(_,V))if(o.length>s.length)\"#text\"===_.nodeName?c.push((new m).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,n.concat(l)).setValue(this.options._const.value,_.data)):c.push((new m).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,r(_)).setValue(this.options._const.route,n.concat(l))),o.splice(p,1),p-=1,l-=1,a-=1;else if(o.length<s.length){var g=r(V);c=c.concat([(new m).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,g).setValue(this.options._const.route,n.concat(l))]),o.splice(p,0,g),a-=1}else c=c.concat([(new m).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,r(_)).setValue(this.options._const.newValue,r(V)).setValue(this.options._const.route,n.concat(l))]);l+=1}return e.innerDone=!0,c},e.prototype.attemptGroupRelocation=function(e,t,n,o,s){for(var i,a,c,l,u,f,p=function(e,t,n){var o=e.childNodes?h(e.childNodes.length,!0):[],s=t.childNodes?h(t.childNodes.length,!0):[],i=0;return n.forEach((function(e){for(var t=e.oldValue+e.length,n=e.newValue+e.length,a=e.oldValue;a<t;a+=1)o[a]=i;for(a=e.newValue;a<n;a+=1)s[a]=i;i+=1})),{gaps1:o,gaps2:s}}(e,t,n),_=p.gaps1,V=p.gaps2,g=Math.min(_.length,V.length),v=[],N=0,b=0;N<g;b+=1,N+=1)if(!s||!0!==_[N]&&!0!==V[N]){if(!0===_[N])if(\"#text\"===(l=e.childNodes[b]).nodeName)if(\"#text\"===t.childNodes[N].nodeName){if(l.data!==t.childNodes[N].data){for(f=b;e.childNodes.length>f+1&&\"#text\"===e.childNodes[f+1].nodeName;)if(f+=1,t.childNodes[N].data===e.childNodes[f].data){u=!0;break}if(!u)return v.push((new m).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,o.concat(N)).setValue(this.options._const.oldValue,l.data).setValue(this.options._const.newValue,t.childNodes[N].data)),v}}else v.push((new m).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,o.concat(N)).setValue(this.options._const.value,l.data)),_.splice(N,1),g=Math.min(_.length,V.length),N-=1;else v.push((new m).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,o.concat(N)).setValue(this.options._const.element,r(l))),_.splice(N,1),g=Math.min(_.length,V.length),N-=1;else if(!0===V[N])\"#text\"===(l=t.childNodes[N]).nodeName?(v.push((new m).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,o.concat(N)).setValue(this.options._const.value,l.data)),_.splice(N,0,!0),g=Math.min(_.length,V.length),b-=1):(v.push((new m).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,o.concat(N)).setValue(this.options._const.element,r(l))),_.splice(N,0,!0),g=Math.min(_.length,V.length),b-=1);else if(_[N]!==V[N]){if(v.length>0)return v;if(c=n[_[N]],(a=Math.min(c.newValue,e.childNodes.length-c.length))!==c.oldValue){i=!1;for(var y=0;y<c.length;y+=1)d(e.childNodes[a+y],e.childNodes[c.oldValue+y],{},!1,!0)||(i=!0);if(i)return[(new m).setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,c.length).setValue(this.options._const.from,c.oldValue).setValue(this.options._const.to,a).setValue(this.options._const.route,o)]}}}else;return v},e.prototype.findValueDiff=function(e,t,n){var o=[];return e.selected!==t.selected&&o.push((new m).setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,e.selected).setValue(this.options._const.newValue,t.selected).setValue(this.options._const.route,n)),(e.value||t.value)&&e.value!==t.value&&\"OPTION\"!==e.nodeName&&o.push((new m).setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,e.value||\"\").setValue(this.options._const.newValue,t.value||\"\").setValue(this.options._const.route,n)),e.checked!==t.checked&&o.push((new m).setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,e.checked).setValue(this.options._const.newValue,t.checked).setValue(this.options._const.route,n)),o},e}(),O={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(e,t,n,o){e.data=o},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(\"undefined\"==typeof window||!window.document)&&window.document,components:[]},T=function(){function e(e){if(void 0===e&&(e={}),Object.entries(O).forEach((function(t){var n=t[0],o=t[1];Object.prototype.hasOwnProperty.call(e,n)||(e[n]=o)})),!e._const){var t=[\"addAttribute\",\"modifyAttribute\",\"removeAttribute\",\"modifyTextElement\",\"relocateGroup\",\"removeElement\",\"addElement\",\"removeTextElement\",\"addTextElement\",\"replaceElement\",\"modifyValue\",\"modifyChecked\",\"modifySelected\",\"modifyComment\",\"action\",\"route\",\"oldValue\",\"newValue\",\"element\",\"group\",\"groupLength\",\"from\",\"to\",\"name\",\"value\",\"data\",\"attributes\",\"nodeName\",\"childNodes\",\"checked\",\"selected\"],n={};e.compress?t.forEach((function(e,t){return n[e]=t})):t.forEach((function(e){return n[e]=e})),e._const=n}this.options=e}return e.prototype.apply=function(e,t){return function(e,t,o){return t.every((function(t){return n(e,t,o)}))}(e,t,this.options)},e.prototype.undo=function(e,t){return s(e,t,this.options)},e.prototype.diff=function(e,t){return new x(e,t,this.options).init()},e}(),A=function(){function e(e){void 0===e&&(e={});var t=this;this.pad=\"│   \",this.padding=\"\",this.tick=1,this.messages=[];var n=function(e,n){var o=e[n];e[n]=function(){for(var s=arguments,i=[],a=0;a<arguments.length;a++)i[a]=s[a];t.fin(n,Array.prototype.slice.call(i));var c=o.apply(e,i);return t.fout(n,c),c}};for(var o in e)\"function\"==typeof e[o]&&n(e,o);this.log(\"┌ TRACELOG START\")}return e.prototype.fin=function(e,t){this.padding+=this.pad,this.log(\"├─> entering \".concat(e),t)},e.prototype.fout=function(e,t){this.log(\"│<──┘ generated return value\",t),this.padding=this.padding.substring(0,this.padding.length-this.pad.length)},e.prototype.format=function(e,t){return\"\".concat(function(e){for(var t=\"\".concat(e);t.length<4;)t=\"0\".concat(e);return t}(t),\"> \").concat(this.padding).concat(e)},e.prototype.log=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var o=function(e){return e?\"string\"==typeof e?e:e instanceof HTMLElement?e.outerHTML||\"<empty>\":e instanceof Array?\"[\".concat(e.map(o).join(\",\"),\"]\"):e.toString()||e.valueOf()||\"<unknown>\":\"<falsey>\"},s=t.map(o).join(\", \");this.messages.push(this.format(s,this.tick++))},e.prototype.toString=function(){for(var e=\"└───\";e.length<=this.padding.length+this.pad.length;)e+=\"×   \";var t=this.padding;return this.padding=\"\",e=this.format(e,this.tick),this.padding=t,\"\".concat(this.messages.join(\"\\n\"),\"\\n\").concat(e)},e}();export{T as DiffDOM,A as TraceLogger,g as nodeToObj,k as stringToObj};\n//# sourceMappingURL=module.js.map\n","import {stringToObj} from \"diff-dom\"\n\nimport {cellType, columnsStateType, columnSettingsType, DataTableOptions, headerCellType, elementNodeType, textNodeType, renderOptions} from \"./types\"\n\n\nexport const headingsToVirtualHeaderRowDOM = (\n    headings,\n    columnSettings,\n    columnsState: columnsStateType,\n    {\n        classes,\n        format,\n        hiddenHeader,\n        sortable,\n        scrollY,\n        type\n    }: DataTableOptions,\n    {\n        noColumnWidths,\n        unhideHeader\n    }: renderOptions\n) => ({\n    nodeName: \"TR\",\n\n    childNodes: headings.map(\n        (heading: headerCellType, index: number) : elementNodeType | void => {\n            const column = columnSettings[index] || ({\n                type,\n                format,\n                sortable: true,\n                searchable: true\n            } as columnSettingsType)\n            if (column.hidden) {\n                return\n            }\n            const attributes : { [key: string]: string} = {}\n            if (column.sortable && sortable && (!scrollY.length || unhideHeader)) {\n                if (column.filter) {\n                    attributes[\"data-filterable\"] = \"true\"\n                } else {\n                    attributes[\"data-sortable\"] = \"true\"\n                }\n            }\n            if (column.headerClass) {\n                attributes.class = column.headerClass\n            }\n            if (columnsState.sort && columnsState.sort.column === index) {\n                const directionClass = columnsState.sort.dir === \"asc\" ? classes.ascending : classes.descending\n                attributes.class = attributes.class ? `${attributes.class} ${directionClass}` : directionClass\n                attributes[\"aria-sort\"] = columnsState.sort.dir === \"asc\" ? \"ascending\" : \"descending\"\n            } else if (columnsState.filters[index]) {\n                attributes.class = attributes.class ? `${attributes.class} ${classes.filterActive}` : classes.filterActive\n            }\n            let style = \"\"\n            if (columnsState.widths[index] && !noColumnWidths) {\n                style += `width: ${columnsState.widths[index]}%;`\n            }\n            if (scrollY.length && !unhideHeader) {\n                style += \"padding-bottom: 0;padding-top: 0;border: 0;\"\n            }\n\n            if (style.length) {\n                attributes.style = style\n            }\n            if (column.headerClass) {\n                attributes.class = column.headerClass\n            }\n            const headerNodes : elementNodeType[] = heading.type === \"html\" ?\n                heading.data as elementNodeType[] :\n                [\n                    {\n                        nodeName: \"#text\",\n                        data: heading.text ?? String(heading.data)\n                    }\n                ] as textNodeType[]\n            return {\n                nodeName: \"TH\",\n                attributes,\n                childNodes:\n                    ((hiddenHeader || scrollY.length) && !unhideHeader) ?\n                        [\n                            {nodeName: \"#text\",\n                                data: \"\"}\n                        ] :\n                        !column.sortable || !sortable ?\n                            headerNodes :\n                            [\n                                {\n                                    nodeName: \"a\",\n                                    attributes: {\n                                        href: \"#\",\n                                        class: column.filter ? classes.filter : classes.sorter\n                                    },\n                                    childNodes: headerNodes\n                                }\n                            ]\n            }\n        }\n    ).filter((column: (elementNodeType | void)) => column)\n})\n\nexport const dataToVirtualDOM = (tableAttributes: { [key: string]: string}, headings: headerCellType[], rows: {row: cellType[], index: number}[], columnSettings: columnSettingsType[], columnsState: columnsStateType, rowCursor: (number | false), {\n    classes,\n    hiddenHeader,\n    header,\n    footer,\n    format,\n    sortable,\n    scrollY,\n    type,\n    rowRender,\n    tabIndex\n}: DataTableOptions, {\n    noColumnWidths,\n    unhideHeader,\n    renderHeader\n}: renderOptions) => {\n    const table: elementNodeType = {\n        nodeName: \"TABLE\",\n        attributes: {...tableAttributes},\n        childNodes: [\n            {\n                nodeName: \"TBODY\",\n                childNodes: rows.map(\n                    ({\n                        row,\n                        index\n                    }: {row: cellType[], index: number}) => {\n                        const tr: elementNodeType = {\n                            nodeName: \"TR\",\n                            attributes: {\n                                \"data-index\": String(index)\n                            },\n                            childNodes: row.map(\n                                (cell: cellType, cIndex: number) => {\n                                    const column = columnSettings[cIndex] || ({\n                                        type,\n                                        format,\n                                        sortable: true,\n                                        searchable: true\n                                    } as columnSettingsType)\n                                    if (column.hidden) {\n                                        return\n                                    }\n                                    const td : elementNodeType = column.type === \"html\" ?\n                                        {\n                                            nodeName: \"TD\",\n                                            childNodes: cell.data\n                                        } as elementNodeType:\n                                        {\n                                            nodeName: \"TD\",\n                                            childNodes: [\n                                                {\n                                                    nodeName: \"#text\",\n                                                    data: cell.text ?? String(cell.data)\n                                                }\n                                            ]\n                                        } as elementNodeType\n                                    if (!header && !footer && columnsState.widths[cIndex] && !noColumnWidths) {\n                                        td.attributes = {\n                                            style: `width: ${columnsState.widths[cIndex]}%;`\n                                        }\n                                    }\n                                    if (column.cellClass) {\n                                        if (!td.attributes) {\n                                            td.attributes = {}\n                                        }\n                                        td.attributes.class = column.cellClass\n                                    }\n                                    if (column.render) {\n                                        const renderedCell : (string | elementNodeType | void) = column.render(cell.data, td, index, cIndex)\n                                        if (renderedCell) {\n                                            if (typeof renderedCell === \"string\") {\n                                                // Convenience method to make it work similarly to what it did up to version 5.\n                                                const node = stringToObj(`<td>${renderedCell}</td>`)\n\n                                                if (node.childNodes.length !== 1 || ![\"#text\", \"#comment\"].includes(node.childNodes[0].nodeName)) {\n                                                    td.childNodes = node.childNodes\n                                                } else {\n                                                    (td.childNodes[0] as textNodeType).data = renderedCell\n                                                }\n\n                                            } else {\n                                                return renderedCell\n                                            }\n                                        }\n\n                                    }\n                                    return td\n                                }\n                            ).filter((column: (elementNodeType | void)) => column)\n                        }\n                        if (index===rowCursor) {\n                            tr.attributes.class = classes.cursor\n                        }\n                        if (rowRender) {\n                            const renderedRow : (elementNodeType | void) = rowRender(row, tr, index)\n                            if (renderedRow) {\n                                if (typeof renderedRow === \"string\") {\n                                    // Convenience method to make it work similarly to what it did up to version 5.\n                                    const node = stringToObj(`<tr>${renderedRow}</tr>`)\n                                    if (node.childNodes && (node.childNodes.length !== 1 || ![\"#text\", \"#comment\"].includes(node.childNodes[0].nodeName))) {\n                                        tr.childNodes = node.childNodes\n                                    } else {\n                                        (tr.childNodes[0] as textNodeType).data = renderedRow\n                                    }\n\n                                } else {\n                                    return renderedRow\n                                }\n                            }\n                        }\n                        return tr\n                    }\n                )\n            } as elementNodeType\n        ]\n    }\n\n    table.attributes.class = table.attributes.class ? `${table.attributes.class} ${classes.table}` : classes.table\n\n    if (header || footer || renderHeader) {\n        const headerRow: elementNodeType = headingsToVirtualHeaderRowDOM(headings, columnSettings, columnsState, {classes,\n            hiddenHeader,\n            sortable,\n            scrollY}, {noColumnWidths,\n            unhideHeader})\n\n        if (header || renderHeader) {\n            const thead: elementNodeType = {\n                nodeName: \"THEAD\",\n                childNodes: [headerRow]\n            }\n            if ((scrollY.length || hiddenHeader) && !unhideHeader) {\n                thead.attributes = {style: \"height: 0px;\"}\n            }\n            table.childNodes.unshift(thead)\n        }\n        if (footer) {\n            const footerRow = header ? structuredClone(headerRow) : headerRow\n            const tfoot: elementNodeType = {\n                nodeName: \"TFOOT\",\n                childNodes: [footerRow]\n            }\n            if ((scrollY.length || hiddenHeader) && !unhideHeader) {\n                tfoot.attributes = {style: \"height: 0px;\"}\n            }\n            table.childNodes.push(tfoot)\n        }\n\n    }\n\n    if (tabIndex !== false) {\n        table.attributes.tabindex = String(tabIndex)\n    }\n\n    return table\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_customParseFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},t=/(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\\d\\d/,r=/\\d\\d?/,i=/\\d*[^-_:/,()\\s\\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)};var a=function(e){return function(t){this[e]=+t}},f=[/[+-]\\d\\d:?(\\d\\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if(\"Z\"===e)return 0;var t=e.match(/([+-]|\\d\\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:\"+\"===t[0]?-n:n}(e)}],h=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?\"pm\":\"PM\");return n},d={A:[i,function(e){this.afternoon=u(e,!1)}],a:[i,function(e){this.afternoon=u(e,!0)}],S:[/\\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\\d{3}/,function(e){this.milliseconds=+e}],s:[r,a(\"seconds\")],ss:[r,a(\"seconds\")],m:[r,a(\"minutes\")],mm:[r,a(\"minutes\")],H:[r,a(\"hours\")],h:[r,a(\"hours\")],HH:[r,a(\"hours\")],hh:[r,a(\"hours\")],D:[r,a(\"day\")],DD:[n,a(\"day\")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\\[|\\]/g,\"\")===e&&(this.day=r)}],M:[r,a(\"month\")],MM:[n,a(\"month\")],MMM:[i,function(e){var t=h(\"months\"),n=(h(\"monthsShort\")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=h(\"months\").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\\d+/,a(\"year\")],YY:[n,function(e){this.year=s(e)}],YYYY:[/\\d{4}/,a(\"year\")],Z:f,ZZ:f};function c(n){var r,i;r=n,i=o&&o.formats;for(var s=(n=r.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=s.length,f=0;f<a;f+=1){var h=s[f],u=d[h],c=u&&u[0],l=u&&u[1];s[f]=l?{regex:c,parser:l}:h.replace(/^\\[|\\]$/g,\"\")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=s[n];if(\"string\"==typeof i)r+=i.length;else{var o=i.regex,f=i.parser,h=e.slice(r),u=o.exec(h)[0];f.call(t,u),e=e.replace(u,\"\")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,s=e.args;this.$u=r;var a=s[1];if(\"string\"==typeof a){var f=!0===s[2],h=!0===s[3],u=f||h,d=s[2];h&&(d=s[2]),o=this.$locale(),!f&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if([\"x\",\"X\"].indexOf(t)>-1)return new Date((\"X\"===t?1e3:1)*e);var r=c(t)(e),i=r.year,o=r.month,s=r.day,a=r.hours,f=r.minutes,h=r.seconds,u=r.milliseconds,d=r.zone,l=new Date,m=s||(i||o?1:l.getDate()),M=i||l.getFullYear(),Y=0;i&&!o||(Y=o>0?o-1:l.getMonth());var p=a||0,v=f||0,D=h||0,g=u||0;return d?new Date(Date.UTC(M,Y,m,p,v,D,g+60*d.offset*1e3)):n?new Date(Date.UTC(M,Y,m,p,v,D,g)):new Date(M,Y,m,p,v,D,g)}catch(e){return new Date(\"\")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date(\"\")),o={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){s[1]=a[m-1];var M=n.apply(this,s);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===l&&(this.$d=new Date(\"\"))}else i.call(this,e)}}}));","import dayjs from \"dayjs\"\nimport customParseFormat from \"dayjs/plugin/customParseFormat\"\n\ndayjs.extend(customParseFormat)\n\n/**\n * Use dayjs to parse cell contents for sorting\n */\nexport const parseDate = (content: string, format: string) => {\n    let date: number | string\n\n    // Converting to YYYYMMDD ensures we can accurately sort the column numerically\n\n    if (format) {\n        switch (format) {\n        case \"ISO_8601\":\n            // ISO8601 is already lexiographically sorted, so we can just sort it as a string.\n            date = content\n            break\n        case \"RFC_2822\":\n            date = dayjs(content.slice(5), \"DD MMM YYYY HH:mm:ss ZZ\").unix()\n            break\n        case \"MYSQL\":\n            date = dayjs(content, \"YYYY-MM-DD hh:mm:ss\").unix()\n            break\n        case \"UNIX\":\n            date = dayjs(content).unix()\n            break\n        // User defined format using the data-format attribute or columns[n].format option\n        default:\n            date = dayjs(content, format, true).valueOf()\n            break\n        }\n    }\n    return date\n}\n","import {stringToObj, nodeToObj} from \"diff-dom\"\nimport {parseDate} from \"./date\"\nimport {objToText} from \"./helpers\"\nimport {cellType, DataOption, headerCellType, inputCellType, inputHeaderCellType, nodeType, columnSettingsType} from \"./types\"\n\nexport const readDataCell = (cell: inputCellType, columnSettings : columnSettingsType) : cellType => {\n    if (cell?.constructor === Object && Object.prototype.hasOwnProperty.call(cell, \"data\") && !Object.keys(cell).find(key => !([\"text\", \"order\", \"data\"].includes(key)))) {\n        return (cell as cellType)\n    }\n    const cellData : cellType = {\n        data: cell\n    }\n    switch (columnSettings.type) {\n    case \"string\":\n        if (!(typeof cell === \"string\")) {\n            cellData.text = String(cellData.data)\n            cellData.order = cellData.text\n        }\n        break\n    case \"date\":\n        if (columnSettings.format) {\n            cellData.order = parseDate(String(cellData.data), columnSettings.format)\n        }\n        break\n    case \"number\":\n        cellData.text = String(cellData.data as number)\n        cellData.data = parseInt(cellData.data as string, 10)\n        break\n    case \"html\": {\n        const node = Array.isArray(cellData.data) ?\n            {nodeName: \"TD\",\n                childNodes: (cellData.data as nodeType[])} : // If it is an array, we assume it is an array of nodeType\n            stringToObj(`<td>${String(cellData.data)}</td>`)\n        cellData.data = node.childNodes || []\n        const text = objToText(node)\n        cellData.text = text\n        cellData.order = text\n        break\n    }\n    case \"boolean\":\n        if (typeof cellData.data === \"string\") {\n            cellData.data = cellData.data.toLowerCase().trim()\n        }\n        cellData.data = ![\"false\", false, null, undefined, 0].includes(cellData.data as (string | number | boolean | null | undefined))\n        cellData.order = cellData.data ? 1 : 0\n        cellData.text = String(cellData.data)\n        break\n    case \"other\":\n        cellData.text = \"\"\n        cellData.order = 0\n        break\n    default:\n        cellData.text = JSON.stringify(cellData.data)\n        break\n    }\n\n    return cellData\n}\n\nconst readDOMDataCell = (cell: HTMLElement, columnSettings : columnSettingsType) : cellType => {\n    let cellData : cellType\n    switch (columnSettings.type) {\n    case \"string\":\n        cellData = {\n            data: cell.innerText\n        }\n        break\n    case \"date\": {\n        const data = cell.innerText\n        cellData = {\n            data,\n            order: parseDate(data, columnSettings.format)\n        }\n        break\n    }\n    case \"number\":\n        cellData = {\n            data: parseInt(cell.innerText, 10),\n            text: cell.innerText\n        }\n        break\n    case \"boolean\": {\n        const data = ![\"false\", \"0\", \"null\", \"undefined\"].includes(cell.innerText.toLowerCase().trim())\n        cellData = {\n            data,\n            order: data ? 1 : 0,\n            text: data ? \"1\" : \"0\"\n        }\n        break\n    }\n    default: { // \"html\", \"other\"\n        const node = nodeToObj(cell, {valueDiffing: false})\n        cellData = {\n            data: node.childNodes || [],\n            text: cell.innerText,\n            order: cell.innerText\n        }\n        break\n    }\n    }\n\n    return cellData\n}\n\n\nexport const readHeaderCell = (cell: inputHeaderCellType) : headerCellType => {\n    if (\n        cell instanceof Object &&\n        cell.constructor === Object &&\n        cell.hasOwnProperty(\"data\") &&\n        (typeof cell.text === \"string\" || typeof cell.data === \"string\")\n    ) {\n        return cell\n    }\n    const cellData : headerCellType = {\n        data: cell\n    }\n    if (typeof cell === \"string\") {\n        if (cell.length) {\n            const node = stringToObj(`<th>${cell}</th>`)\n            if (node.childNodes && (node.childNodes.length !== 1 || node.childNodes[0].nodeName !== \"#text\")) {\n                cellData.data = node.childNodes\n                cellData.type = \"html\"\n                const text = objToText(node)\n                cellData.text = text\n            }\n        }\n\n    } else if ([null, undefined].includes(cell)) {\n        cellData.text = \"\"\n    } else {\n        cellData.text = JSON.stringify(cell)\n    }\n    return cellData\n}\n\nexport const readDOMHeaderCell = (cell: HTMLElement) : headerCellType => {\n    const node = nodeToObj(cell, {valueDiffing: false})\n    let cellData\n    if (node.childNodes && (node.childNodes.length !== 1 || node.childNodes[0].nodeName !== \"#text\")) {\n        cellData = {\n            data: node.childNodes,\n            type: \"html\",\n            text: objToText(node)\n        }\n    } else {\n        cellData = {\n            data: cell.innerText,\n            type: \"string\"\n        }\n    }\n    return cellData\n\n}\n\nexport const readTableData = (dataOption: DataOption, dom: (HTMLTableElement | undefined)=undefined, columnSettings, defaultType, defaultFormat) => {\n\n    const data = {\n        data: [],\n        headings: []\n    }\n    if (dataOption.headings) {\n        data.headings = dataOption.headings.map((heading: inputHeaderCellType) => readHeaderCell(heading))\n    } else if (dom?.tHead) {\n        data.headings = Array.from(dom.tHead.querySelectorAll(\"th\")).map((th, index) => {\n            const heading = readDOMHeaderCell(th)\n            if (!columnSettings[index]) {\n                columnSettings[index] = {\n                    type: defaultType,\n                    format: defaultFormat,\n                    searchable: true,\n                    sortable: true\n                }\n            }\n            const settings = columnSettings[index]\n            if (th.dataset.sortable?.trim().toLowerCase() === \"false\" || th.dataset.sort?.trim().toLowerCase() === \"false\") {\n                settings.sortable = false\n            }\n            if (th.dataset.searchable?.trim().toLowerCase() === \"false\") {\n                settings.searchable = false\n            }\n            if (th.dataset.hidden?.trim().toLowerCase() === \"true\" || th.getAttribute(\"hidden\")?.trim().toLowerCase() === \"true\") {\n                settings.hidden = true\n            }\n            if ([\"number\", \"string\", \"html\", \"date\", \"boolean\", \"other\"].includes(th.dataset.type)) {\n                settings.type = th.dataset.type\n                if (settings.type === \"date\" && th.dataset.format) {\n                    settings.format = th.dataset.format\n                }\n            }\n            return heading\n        })\n    } else if (dataOption.data?.length) {\n        data.headings = dataOption.data[0].map((_cell: inputCellType) => readHeaderCell(\"\"))\n    } else if (dom?.tBodies.length) {\n        data.headings = Array.from(dom.tBodies[0].rows[0].cells).map((_cell: HTMLElement) => readHeaderCell(\"\"))\n    }\n    for (let i=0; i<data.headings.length; i++) {\n        // Make sure that there are settings for all columns\n        if (!columnSettings[i]) {\n            columnSettings[i] = {\n                type: defaultType,\n                format: defaultFormat,\n                sortable: true,\n                searchable: true\n            }\n        }\n    }\n    if (dataOption.data) {\n        data.data = dataOption.data.map((row: inputCellType[]) => row.map((cell: inputCellType, index: number) => readDataCell(cell, columnSettings[index])))\n    } else if (dom?.tBodies?.length) {\n        data.data = Array.from(dom.tBodies[0].rows).map(\n            row => Array.from(row.cells).map(\n                (cell, index) => {\n                    const cellData = cell.dataset.content ?\n                        readDataCell(cell.dataset.content, columnSettings[index]) :\n                        readDOMDataCell(cell, columnSettings[index])\n                    if (cell.dataset.order) {\n                        cellData.order = isNaN(parseFloat(cell.dataset.order)) ? cell.dataset.order : parseFloat(cell.dataset.order)\n                    }\n                    return cellData\n\n                }\n            )\n        )\n    }\n\n    if (data.data.length && data.data[0].length !== data.headings.length) {\n        throw new Error(\n            \"Data heading length mismatch.\"\n        )\n    }\n    return data\n}\n","import {readDataCell} from \"./read_data\"\nimport {DataTable} from \"./datatable\"\nimport {cellType, inputCellType} from \"./types\"\n/**\n * Rows API\n */\nexport class Rows {\n    cursor: (false | number)\n\n    dt: DataTable\n\n    constructor(dt: DataTable) {\n        this.dt = dt\n\n        this.cursor = false\n    }\n\n    setCursor(index: (false | number) = false) {\n        if (index === this.cursor) {\n            return\n        }\n        const oldCursor = this.cursor\n        this.cursor = index\n        this.dt._renderTable()\n        if (index !== false && this.dt.options.scrollY) {\n            const cursorDOM = this.dt.dom.querySelector(`tr.${this.dt.options.classes.cursor}`)\n            if (cursorDOM) {\n                cursorDOM.scrollIntoView({block: \"nearest\"})\n            }\n        }\n        this.dt.emit(\"datatable.cursormove\", this.cursor, oldCursor)\n    }\n\n    /**\n     * Add new row\n     */\n    add(data: cellType[]) {\n        const row = data.map((cell: cellType, index: number) => {\n            const columnSettings = this.dt.columns.settings[index]\n            return readDataCell(cell, columnSettings)\n        })\n        this.dt.data.data.push(row)\n\n        // We may have added data to an empty table\n        if ( this.dt.data.data.length ) {\n            this.dt.hasRows = true\n        }\n        this.dt.update(true)\n    }\n\n    /**\n     * Remove row(s)\n     */\n    remove(select: number | number[]) {\n        if (Array.isArray(select)) {\n            this.dt.data.data = this.dt.data.data.filter((_row: cellType[], index: number) => !select.includes(index))\n            // We may have emptied the table\n            if ( !this.dt.data.data.length ) {\n                this.dt.hasRows = false\n            }\n            this.dt.update(true)\n        } else {\n            return this.remove([select])\n        }\n    }\n\n\n    /**\n     * Find index of row by searching for a value in a column\n     */\n    findRowIndex(columnIndex: number, value: string | boolean | number) {\n        // returns row index of first case-insensitive string match\n        // inside the td innerText at specific column index\n        return this.dt.data.data.findIndex(\n            (row: cellType[]) => (row[columnIndex].text ?? String(row[columnIndex].data)).toLowerCase().includes(String(value).toLowerCase())\n        )\n    }\n\n    /**\n     * Find index, row, and column data by searching for a value in a column\n     */\n    findRow(columnIndex: number, value: string | boolean | number) {\n        // get the row index\n        const index = this.findRowIndex(columnIndex, value)\n        // exit if not found\n        if (index < 0) {\n            return {\n                index: -1,\n                row: null,\n                cols: []\n            }\n        }\n        // get the row from data\n        const row = this.dt.data.data[index]\n        // return innerHTML of each td\n        const cols = row.map((cell: cellType) => cell.data)\n        // return everything\n        return {\n            index,\n            row,\n            cols\n        }\n    }\n\n    /**\n     * Update a row with new data\n     */\n    updateRow(select: number, data: inputCellType[]) {\n        const row = data.map((cell: inputCellType, index: number) => {\n            const columnSettings = this.dt.columns.settings[index]\n            return readDataCell(cell, columnSettings)\n        })\n        this.dt.data.data.splice(select, 1, row)\n        this.dt.update(true)\n    }\n}\n","import {readDataCell, readHeaderCell} from \"./read_data\"\nimport {DataTable} from \"./datatable\"\nimport {cellType, columnsStateType, headerCellType, inputCellType, inputHeaderCellType, elementNodeType, columnSettingsType} from \"./types\"\nimport {readColumnSettings} from \"./column_settings\"\n\n\nexport class Columns {\n    dt: DataTable\n\n    settings: columnSettingsType[]\n\n    _state: columnsStateType\n\n    constructor(dt: DataTable) {\n        this.dt = dt\n        this.init()\n    }\n\n    init() {\n        [this.settings, this._state] = readColumnSettings(this.dt.options.columns, this.dt.options.type, this.dt.options.format)\n    }\n\n    /**\n     * Swap two columns\n     */\n    swap(columns: [number, number]) {\n        if (columns.length === 2) {\n            // Get the current column indexes\n            const cols = this.dt.data.headings.map((_node: headerCellType, index: number) => index)\n\n            const x = columns[0]\n            const y = columns[1]\n            const b = cols[y]\n            cols[y] = cols[x]\n            cols[x] = b\n\n            return this.order(cols)\n        }\n    }\n\n    /**\n     * Reorder the columns\n     */\n    order(columns: number[]) {\n\n        this.dt.data.headings = columns.map((index: number) => this.dt.data.headings[index])\n        this.dt.data.data = this.dt.data.data.map(\n            (row: cellType[]) => columns.map((index: number) => row[index])\n        )\n        this.settings = columns.map(\n            (index: number) => this.settings[index]\n        )\n\n        // Update\n        this.dt.update()\n    }\n\n    /**\n     * Hide columns\n     */\n    hide(columns: number[]) {\n        if (!columns.length) {\n            return\n        }\n        columns.forEach((index: number) => {\n            if (!this.settings[index]) {\n                this.settings[index] = {\n                    type: \"string\"\n                }\n            }\n            const column = this.settings[index]\n            column.hidden = true\n        })\n\n        this.dt.update()\n    }\n\n    /**\n     * Show columns\n     */\n    show(columns: number[]) {\n        if (!columns.length) {\n            return\n        }\n        columns.forEach((index: number) => {\n            if (!this.settings[index]) {\n                this.settings[index] = {\n                    type: \"string\",\n                    sortable: true\n                }\n            }\n            const column = this.settings[index]\n            delete column.hidden\n        })\n\n        this.dt.update()\n    }\n\n    /**\n     * Check column(s) visibility\n     */\n    visible(columns: number | number[] | undefined) {\n\n        if (columns === undefined) {\n            columns = [...Array(this.dt.data.headings.length).keys()]\n        }\n        if (Array.isArray(columns)) {\n            return columns.map(index => !this.settings[index]?.hidden)\n        }\n        return !this.settings[columns]?.hidden\n\n    }\n\n    /**\n     * Add a new column\n     */\n    add(data: {data: inputCellType[], heading: inputHeaderCellType} & columnSettingsType) {\n        const newColumnSelector = this.dt.data.headings.length\n        this.dt.data.headings = this.dt.data.headings.concat([readHeaderCell(data.heading)])\n        this.dt.data.data = this.dt.data.data.map(\n            (row: cellType[], index: number) => row.concat([readDataCell(data.data[index], data)])\n        )\n        this.settings[newColumnSelector] = {\n            type: data.type || \"string\",\n            sortable: true,\n            searchable: true\n        }\n        if (data.type || data.format || data.sortable || data.render || data.filter) {\n            const column = this.settings[newColumnSelector]\n\n            if (data.render) {\n                column.render = data.render\n            }\n\n            if (data.format) {\n                column.format = data.format\n            }\n\n            if (data.cellClass) {\n                column.cellClass = data.cellClass\n            }\n\n            if (data.headerClass) {\n                column.headerClass = data.headerClass\n            }\n\n            if (data.locale) {\n                column.locale = data.locale\n            }\n\n            if (data.sortable === false) {\n                column.sortable = false\n            } else {\n                if (data.numeric) {\n                    column.numeric = data.numeric\n                }\n                if (data.caseFirst) {\n                    column.caseFirst = data.caseFirst\n                }\n            }\n\n            if (data.searchable === false) {\n                column.searchable = false\n            } else {\n                if (data.sensitivity) {\n                    column.sensitivity = data.sensitivity\n                }\n            }\n\n            if (column.searchable || column.sortable) {\n                if (data.ignorePunctuation) {\n                    column.ignorePunctuation = data.ignorePunctuation\n                }\n            }\n\n            if (data.hidden) {\n                column.hidden = true\n            }\n\n            if (data.filter) {\n                column.filter = data.filter\n            }\n\n            if (data.sortSequence) {\n                column.sortSequence = data.sortSequence\n            }\n        }\n        this.dt.update(true)\n    }\n\n    /**\n     * Remove column(s)\n     */\n    remove(columns: number[]) {\n        if (Array.isArray(columns)) {\n            this.dt.data.headings = this.dt.data.headings.filter((_heading: headerCellType, index: number) => !columns.includes(index))\n            this.dt.data.data = this.dt.data.data.map(\n                (row: cellType[]) => row.filter((_cell: cellType, index: number) => !columns.includes(index))\n            )\n            this.dt.update(true)\n        } else {\n            return this.remove([columns])\n        }\n    }\n\n    /**\n     * Filter by column\n     */\n    filter(column: number, init = false) {\n\n        if (!this.settings[column]?.filter?.length) {\n            // There is no filter to apply.\n            return\n        }\n\n        const currentFilter = this._state.filters[column]\n        let newFilterState\n        if (currentFilter) {\n            let returnNext = false\n            newFilterState = this.settings[column].filter.find((filter: (string | number | boolean | elementNodeType[] | object | ((arg: (string | number | boolean | elementNodeType[] | object)) => boolean))) => {\n                if (returnNext) {\n                    return true\n                }\n                if (filter === currentFilter) {\n                    returnNext = true\n                }\n                return false\n            })\n        } else {\n            const filter = this.settings[column].filter\n            newFilterState = filter ? filter[0] : undefined\n        }\n\n        if (newFilterState) {\n            this._state.filters[column] = newFilterState\n        } else if (currentFilter) {\n            this._state.filters[column] = undefined\n        }\n        this.dt._currentPage = 1\n        this.dt.update()\n\n        if (!init) {\n            this.dt.emit(\"datatable.filter\", column, newFilterState)\n        }\n    }\n\n    /**\n     * Sort by column\n     */\n    sort(index: number, dir: (\"asc\" | \"desc\" | undefined) = undefined, init = false) {\n        const column = this.settings[index]\n\n        if (!init) {\n            this.dt.emit(\"datatable.sorting\", index, dir)\n        }\n\n        if (!dir) {\n            const currentDir = this._state.sort ? this._state.sort?.dir : false\n            const sortSequence = column?.sortSequence || [\"asc\", \"desc\"]\n            if (!currentDir) {\n                dir = sortSequence.length ? sortSequence[0] : \"asc\"\n            } else {\n                const currentDirIndex = sortSequence.indexOf(currentDir)\n                if (currentDirIndex === -1) {\n                    dir = \"asc\"\n                } else if (currentDirIndex === sortSequence.length -1) {\n                    dir = sortSequence[0]\n                } else {\n                    dir = sortSequence[currentDirIndex + 1]\n                }\n            }\n\n        }\n\n        const collator = [\"string\", \"html\"].includes(column.type) ?\n            new Intl.Collator(column.locale || this.dt.options.locale, {\n                usage: \"sort\",\n                numeric: column.numeric || this.dt.options.numeric,\n                caseFirst: column.caseFirst || this.dt.options.caseFirst,\n                ignorePunctuation: column.ignorePunctuation|| this.dt.options.ignorePunctuation\n            }) :\n            false\n\n        this.dt.data.data.sort((row1: cellType[], row2: cellType[]) => {\n            let order1 = row1[index].order || row1[index].data,\n                order2 = row2[index].order || row2[index].data\n            if (dir === \"desc\") {\n                const temp = order1\n                order1 = order2\n                order2 = temp\n            }\n            if (collator) {\n                return collator.compare(String(order1), String(order2))\n            }\n            if (order1 < order2) {\n                return -1\n            } else if (order1 > order2) {\n                return 1\n            }\n            return 0\n        })\n\n        this._state.sort = {column: index,\n            dir}\n        if (this.dt._searchQueries.length) {\n            this.dt.multiSearch(this.dt._searchQueries)\n            this.dt.emit(\"datatable.sort\", index, dir)\n        } else if (!init) {\n            this.dt._currentPage = 1\n            this.dt.update()\n            this.dt.emit(\"datatable.sort\", index, dir)\n        }\n    }\n\n    /**\n     * Measure the actual width of cell content by rendering the entire table with all contents.\n     * Note: Destroys current DOM and therefore requires subsequent dt.update()\n     */\n    _measureWidths() {\n        const activeHeadings = this.dt.data.headings.filter((heading: headerCellType, index: number) => !this.settings[index]?.hidden)\n        if ((this.dt.options.scrollY.length || this.dt.options.fixedColumns) && activeHeadings?.length) {\n\n            this._state.widths = []\n            const renderOptions: {noPaging?: true, noColumnWidths?: true, unhideHeader?: true, renderHeader?: true} = {\n                noPaging: true\n            }\n            // If we have headings we need only set the widths on them\n            // otherwise we need a temp header and the widths need applying to all cells\n            if (this.dt.options.header || this.dt.options.footer) {\n\n                if (this.dt.options.scrollY.length) {\n                    renderOptions.unhideHeader = true\n                }\n                if (this.dt.headerDOM) {\n                    // Remove headerDOM for accurate measurements\n                    this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM)\n                }\n\n                // Reset widths\n                renderOptions.noColumnWidths = true\n                this.dt._renderTable(renderOptions)\n\n                const activeDOMHeadings : HTMLTableCellElement[] = Array.from(this.dt.dom.querySelector(\"thead, tfoot\")?.firstElementChild?.querySelectorAll(\"th\") || [])\n                let domCounter = 0\n                const absoluteColumnWidths = this.dt.data.headings.map((_heading: headerCellType, index: number) => {\n                    if (this.settings[index]?.hidden) {\n                        return 0\n                    }\n                    const width = activeDOMHeadings[domCounter].offsetWidth\n                    domCounter += 1\n                    return width\n\n                })\n                const totalOffsetWidth = absoluteColumnWidths.reduce(\n                    (total, cellWidth) => total + cellWidth,\n                    0\n                )\n                this._state.widths = absoluteColumnWidths.map(cellWidth => cellWidth / totalOffsetWidth * 100)\n\n            } else {\n                renderOptions.renderHeader = true\n                this.dt._renderTable(renderOptions)\n\n                const activeDOMHeadings: HTMLTableCellElement[] = Array.from(this.dt.dom.querySelector(\"thead, tfoot\")?.firstElementChild?.querySelectorAll(\"th\") || [])\n                let domCounter = 0\n                const absoluteColumnWidths = this.dt.data.headings.map((_heading: headerCellType, index: number) => {\n                    if (this.settings[index]?.hidden) {\n                        return 0\n                    }\n                    const width = activeDOMHeadings[domCounter].offsetWidth\n                    domCounter += 1\n                    return width\n\n                })\n                const totalOffsetWidth = absoluteColumnWidths.reduce(\n                    (total, cellWidth) => total + cellWidth,\n                    0\n                )\n                this._state.widths = absoluteColumnWidths.map(cellWidth => cellWidth / totalOffsetWidth * 100)\n            }\n            // render table without options for measurements\n            this.dt._renderTable()\n        }\n    }\n}\n","import {\n    columnsStateType,\n    filterStateType,\n    columnSettingsType\n} from \"./types\"\n\nexport const readColumnSettings = (columnOptions = [], defaultType, defaultFormat) : [columnSettingsType[], columnsStateType] => {\n\n    let columns: (columnSettingsType | undefined)[] = []\n    let sort: (false | {column: number, dir: \"asc\" | \"desc\"}) = false\n    const filters: (filterStateType | undefined )[] = []\n\n    // Check for the columns option\n\n    columnOptions.forEach(data => {\n\n        // convert single column selection to array\n        const columnSelectors = Array.isArray(data.select) ? data.select : [data.select]\n\n        columnSelectors.forEach((selector: number) => {\n            if (!columns[selector]) {\n                columns[selector] = {\n                    type: data.type || defaultType,\n                    sortable: true,\n                    searchable: true\n                }\n            }\n            const column = columns[selector]\n\n\n            if (data.render) {\n                column.render = data.render\n            }\n\n            if (data.format) {\n                column.format = data.format\n            } else if (data.type === \"date\") {\n                column.format = defaultFormat\n            }\n\n            if (data.cellClass) {\n                column.cellClass = data.cellClass\n            }\n\n            if (data.headerClass) {\n                column.headerClass = data.headerClass\n            }\n\n            if (data.locale) {\n                column.locale = data.locale\n            }\n\n            if (data.sortable === false) {\n                column.sortable = false\n            } else {\n                if (data.numeric) {\n                    column.numeric = data.numeric\n                }\n                if (data.caseFirst) {\n                    column.caseFirst = data.caseFirst\n                }\n            }\n\n            if (data.searchable === false) {\n                column.searchable = false\n            } else {\n                if (data.sensitivity) {\n                    column.sensitivity = data.sensitivity\n                }\n            }\n\n            if (column.searchable || column.sortable) {\n                if (data.ignorePunctuation) {\n                    column.ignorePunctuation = data.ignorePunctuation\n                }\n            }\n\n            if (data.hidden) {\n                column.hidden = true\n            }\n\n            if (data.filter) {\n                column.filter = data.filter\n            }\n\n            if (data.sortSequence) {\n                column.sortSequence = data.sortSequence\n            }\n\n            if (data.sort) {\n                if (data.filter) {\n                    filters[selector] = data.sort\n                } else {\n                    // We only allow one. The last one will overwrite all other options\n                    sort = {column: selector,\n                        dir: data.sort}\n                }\n            }\n\n        })\n\n\n    })\n\n    columns = columns.map(column => column ?\n        column :\n        {type: defaultType,\n            format: defaultType === \"date\" ? defaultFormat : undefined,\n            sortable: true,\n            searchable: true})\n\n    const widths = [] // Width are determined later on by measuring on screen.\n\n    return [\n        columns, {filters,\n            sort,\n            widths}\n    ]\n\n}\n","// Template for custom layouts\nexport const layoutTemplate = (options, dom) => `<div class='${options.classes.top}'>\n    ${\n    options.paging && options.perPageSelect ?\n        `<div class='${options.classes.dropdown}'>\n            <label>\n                <select class='${options.classes.selector}'></select> ${options.labels.perPage}\n            </label>\n        </div>` :\n        \"\"\n}\n    ${\n    options.searchable ?\n        `<div class='${options.classes.search}'>\n            <input class='${options.classes.input}' placeholder='${options.labels.placeholder}' type='search' title='${options.labels.searchTitle}'${dom.id ? ` aria-controls=\"${dom.id}\"` : \"\"}>\n        </div>` :\n        \"\"\n}\n</div>\n<div class='${options.classes.container}'${options.scrollY.length ? ` style='height: ${options.scrollY}; overflow-Y: auto;'` : \"\"}></div>\n<div class='${options.classes.bottom}'>\n    ${\n    options.paging ?\n        `<div class='${options.classes.info}'></div>` :\n        \"\"\n}\n    <nav class='${options.classes.pagination}'></nav>\n</div>`\n","import {DataTableConfiguration} from \"./types\"\nimport {layoutTemplate} from \"./templates\"\n/**\n * Default configuration\n */\nexport const defaultConfig: DataTableConfiguration = {\n    // for sorting\n    sortable: true,\n    locale: \"en\",\n    numeric: true,\n    caseFirst: \"false\",\n    // for searching\n    searchable: true,\n    sensitivity: \"base\",\n    ignorePunctuation: true,\n    destroyable: true,\n\n    // data\n    data: {},\n    type: \"html\", // Default data type for columns.\n    format: \"YYYY-MM-DD\",\n    columns: [],\n\n    // Pagination\n    paging: true,\n    perPage: 10,\n    perPageSelect: [5, 10, 15, 20, 25],\n    nextPrev: true,\n    firstLast: false,\n    prevText: \"‹\",\n    nextText: \"›\",\n    firstText: \"«\",\n    lastText: \"»\",\n    ellipsisText: \"…\",\n    truncatePager: true,\n    pagerDelta: 2,\n\n    scrollY: \"\",\n\n    fixedColumns: true,\n    fixedHeight: false,\n\n    footer: false,\n    header: true,\n    hiddenHeader: false,\n\n    rowNavigation: false,\n    tabIndex: false,\n\n\n    // for overriding rendering\n    pagerRender: false,\n    rowRender: false,\n    tableRender: false,\n\n    // Customise the display text\n    labels: {\n        placeholder: \"Search...\", // The search input placeholder\n        searchTitle: \"Search within table\", // The search input title\n        perPage: \"entries per page\", // per-page dropdown label\n        noRows: \"No entries found\", // Message shown when there are no records to show\n        noResults: \"No results match your search query\", // Message shown when there are no search results\n        info: \"Showing {start} to {end} of {rows} entries\" //\n    },\n\n    // Customise the layout\n    template: layoutTemplate,\n\n    // Customize the class names used by datatable for different parts\n    classes: { // Note: use single class names\n        active: \"datatable-active\",\n        ascending: \"datatable-ascending\",\n        bottom: \"datatable-bottom\",\n        container: \"datatable-container\",\n        cursor: \"datatable-cursor\",\n        descending: \"datatable-descending\",\n        disabled: \"datatable-disabled\",\n        dropdown: \"datatable-dropdown\",\n        ellipsis: \"datatable-ellipsis\",\n        filter: \"datatable-filter\",\n        filterActive: \"datatable-filter-active\",\n        empty: \"datatable-empty\",\n        headercontainer: \"datatable-headercontainer\",\n        hidden: \"datatable-hidden\",\n        info: \"datatable-info\",\n        input: \"datatable-input\",\n        loading: \"datatable-loading\",\n        pagination: \"datatable-pagination\",\n        paginationList: \"datatable-pagination-list\",\n        paginationListItem: \"datatable-pagination-list-item\",\n        paginationListItemLink: \"datatable-pagination-list-item-link\",\n        search: \"datatable-search\",\n        selector: \"datatable-selector\",\n        sorter: \"datatable-sorter\",\n        table: \"datatable-table\",\n        top: \"datatable-top\",\n        wrapper: \"datatable-wrapper\"\n    }\n}\n","import {DataTableConfiguration, elementNodeType} from \"./types\"\n\n/**\n * Pager truncation algorithm\n */\nconst truncate = (paginationListItems: elementNodeType[], currentPage: number, pagesLength: number, options: DataTableConfiguration) : elementNodeType[] => {\n    const pagerDelta = options.pagerDelta\n    const classes = options.classes\n    const ellipsisText = options.ellipsisText\n\n    const doublePagerDelta = 2 * pagerDelta\n    let previousPage = currentPage - pagerDelta\n    let nextPage = currentPage + pagerDelta\n\n    if (currentPage < 4 - pagerDelta + doublePagerDelta) {\n        nextPage = 3 + doublePagerDelta\n    } else if (currentPage > pagesLength - (3 - pagerDelta + doublePagerDelta)) {\n        previousPage = pagesLength - (2 + doublePagerDelta)\n    }\n    const paginationListItemsToModify: elementNodeType[] = []\n    for (let k = 1; k <= pagesLength; k++) {\n        if (1 == k || k == pagesLength || (k >= previousPage && k <= nextPage)) {\n            const li = paginationListItems[k - 1]\n            paginationListItemsToModify.push(li)\n        }\n    }\n    let previousLi: elementNodeType\n    const modifiedLis: elementNodeType[] = []\n    paginationListItemsToModify.forEach(li => {\n        const pageNumber = parseInt((li.childNodes[0] as elementNodeType).attributes[\"data-page\"], 10)\n        if (previousLi) {\n            const previousPageNumber = parseInt((previousLi.childNodes[0] as elementNodeType).attributes[\"data-page\"], 10)\n            if (pageNumber - previousPageNumber == 2) {\n                modifiedLis.push(paginationListItems[previousPageNumber])\n            } else if (pageNumber - previousPageNumber != 1) {\n                const newLi: elementNodeType = {\n                    nodeName: \"LI\",\n                    attributes: {\n                        class: `${classes.paginationListItem} ${classes.ellipsis} ${classes.disabled}`\n                    },\n                    childNodes: [\n                        {\n                            nodeName: \"A\",\n                            attributes: {\n                                class: classes.paginationListItemLink\n                            },\n                            childNodes: [\n                                {\n                                    nodeName: \"#text\",\n                                    data: ellipsisText\n                                }\n                            ]\n                        }\n                    ]\n                }\n                modifiedLis.push(newLi)\n            }\n        }\n        modifiedLis.push(li)\n        previousLi = li\n    })\n\n    return modifiedLis\n}\n\n\nconst paginationListItem = (page: number, label: string, options: DataTableConfiguration, state: {active?: boolean, hidden?: boolean} = {}) : elementNodeType => ({\n    nodeName: \"LI\",\n    attributes: {\n        class:\n        (state.active && !state.hidden) ?\n            `${options.classes.paginationListItem} ${options.classes.active}` :\n            state.hidden ?\n                `${options.classes.paginationListItem} ${options.classes.hidden} ${options.classes.disabled}` :\n                options.classes.paginationListItem\n    },\n    childNodes: [\n        {\n            nodeName: \"A\",\n            attributes: {\n                \"data-page\": String(page),\n                class: options.classes.paginationListItemLink\n            },\n            childNodes: [\n                {\n                    nodeName: \"#text\",\n                    data: label\n                }\n            ]\n        }\n    ]\n})\n\nexport const createVirtualPagerDOM = (onFirstPage: boolean, onLastPage: boolean, currentPage: number, totalPages: number, options) => {\n\n    let pagerListItems : elementNodeType[] = []\n\n    // first button\n    if (options.firstLast) {\n        pagerListItems.push(paginationListItem(1, options.firstText, options))\n    }\n\n    // prev button\n    if (options.nextPrev) {\n        const prev = onFirstPage ? 1 : currentPage - 1\n        pagerListItems.push(paginationListItem(prev, options.prevText, options, {hidden: onFirstPage}))\n    }\n\n    let pages = [...Array(totalPages).keys()].map(index => paginationListItem(index+1, String(index+1), options, {active: (index === (currentPage-1))}))\n\n    if (options.truncatePager) {\n        // truncate the paginationListItems\n        pages = truncate(\n            pages,\n            currentPage,\n            totalPages,\n            options\n        )\n\n    }\n\n    // append the paginationListItems\n    pagerListItems = pagerListItems.concat(pages)\n\n    // next button\n    if (options.nextPrev) {\n        const next = onLastPage ? totalPages : currentPage + 1\n        pagerListItems.push(paginationListItem(next, options.nextText, options, {hidden: onLastPage}))\n    }\n\n    // last button\n    if (options.firstLast) {\n        pagerListItems.push(paginationListItem(totalPages, options.lastText, options))\n    }\n\n    const pager : elementNodeType = {\n        nodeName: \"UL\",\n        attributes: {\n            class: options.classes.paginationList\n        },\n        childNodes: pages.length > 1 ? pagerListItems : [] // Don't show single page\n    }\n\n    return pager\n\n}\n","import {\n    isObject,\n    createElement,\n    visibleToColumnIndex\n} from \"./helpers\"\nimport {\n    cellType,\n    DataTableConfiguration,\n    DataTableOptions,\n    filterStateType,\n    headerCellType,\n    inputCellType,\n    elementNodeType,\n    renderOptions,\n    TableDataType\n} from \"./types\"\nimport {DiffDOM, nodeToObj} from \"diff-dom\"\n\nimport {dataToVirtualDOM, headingsToVirtualHeaderRowDOM} from \"./virtual_dom\"\nimport {readTableData, readDataCell, readHeaderCell} from \"./read_data\"\nimport {Rows} from \"./rows\"\nimport {Columns} from \"./columns\"\nimport {defaultConfig} from \"./config\"\nimport {createVirtualPagerDOM} from \"./virtual_pager_dom\"\n\n\nexport class DataTable {\n\n    columns: Columns\n\n    containerDOM: HTMLDivElement\n\n    _currentPage: number\n\n    data: TableDataType\n\n    _dd: DiffDOM\n\n    dom: HTMLTableElement\n\n    _events: { [key: string]: ((...args) => void)[]}\n\n    hasHeadings: boolean\n\n    hasRows: boolean\n\n    headerDOM: HTMLDivElement\n\n    _initialInnerHTML: string\n\n    initialized: boolean\n\n    _label: HTMLElement\n\n    lastPage: number\n\n    _listeners: { [key: string]: () => void}\n\n    onFirstPage: boolean\n\n    onLastPage: boolean\n\n    options: DataTableConfiguration\n\n    _pagerDOMs: HTMLElement[]\n\n    _virtualPagerDOM: elementNodeType\n\n    pages: {row: cellType[], index: number}[][]\n\n    _rect: {width: number, height: number}\n\n    rows: Rows\n\n    _searchData: number[]\n\n    _searchQueries: {term: string, columns: (number[] | undefined)}[]\n\n    _tableAttributes: { [key: string]: string}\n\n    totalPages: number\n\n    _virtualDOM: elementNodeType\n\n    _virtualHeaderDOM: elementNodeType\n\n    wrapperDOM: HTMLElement\n\n    constructor(table: HTMLTableElement | string, options: DataTableOptions = {}) {\n\n\n        const dom = typeof table === \"string\" ?\n            document.querySelector(table) :\n            table\n\n        if (dom instanceof HTMLTableElement) {\n            this.dom = dom\n        } else {\n            this.dom = document.createElement(\"table\")\n            dom.appendChild(this.dom)\n        }\n\n        const labels = {\n            ...defaultConfig.labels,\n            ...options.labels\n        }\n\n        const classes = {\n            ...defaultConfig.classes,\n            ...options.classes\n        }\n\n        // user options\n        this.options = {\n            ...defaultConfig,\n            ...options,\n            labels,\n            classes\n        }\n\n        this._initialInnerHTML = this.options.destroyable ? this.dom.innerHTML : \"\" // preserve in case of later destruction\n\n        if (this.options.tabIndex) {\n            this.dom.tabIndex = this.options.tabIndex\n        } else if (this.options.rowNavigation && this.dom.tabIndex === -1) {\n            this.dom.tabIndex = 0\n        }\n\n        this._listeners = {\n            onResize: () => this._onResize()\n        }\n\n        this._dd = new DiffDOM({valueDiffing: false})\n\n        this.initialized = false\n        this._events = {}\n\n        this._currentPage = 0\n        this.onFirstPage = true\n        this.hasHeadings = false\n        this.hasRows = false\n        this._searchQueries = []\n\n        this.init()\n    }\n\n    /**\n     * Initialize the instance\n     */\n    init() {\n        if (this.initialized || this.dom.classList.contains(this.options.classes.table)) {\n            return false\n        }\n\n        this._virtualDOM = nodeToObj(this.dom, {valueDiffing: false})\n\n        this._tableAttributes = {...this._virtualDOM.attributes}\n\n        this.rows = new Rows(this)\n        this.columns = new Columns(this)\n\n        this.data = readTableData(this.options.data, this.dom, this.columns.settings, this.options.type, this.options.format)\n\n        this._render()\n\n        setTimeout(() => {\n            this.emit(\"datatable.init\")\n            this.initialized = true\n        }, 10)\n    }\n\n\n    /**\n     * Render the instance\n     */\n    _render() {\n\n        // Build\n        this.wrapperDOM = createElement(\"div\", {\n            class: `${this.options.classes.wrapper} ${this.options.classes.loading}`\n        })\n\n        this.wrapperDOM.innerHTML = this.options.template(this.options, this.dom)\n\n        const selector = this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`)\n\n        // Per Page Select\n        if (selector && this.options.paging && this.options.perPageSelect) {\n\n            // Create the options\n            this.options.perPageSelect.forEach((choice: number | [string, number]) => {\n                const [lab, val] = Array.isArray(choice) ? [choice[0], choice[1]] : [String(choice), choice]\n                const selected = val === this.options.perPage\n                const option = new Option(lab, String(val), selected, selected)\n                selector.appendChild(option)\n            })\n\n        } else if (selector) {\n            selector.parentElement.removeChild(selector)\n        }\n\n        this.containerDOM = this.wrapperDOM.querySelector(`.${this.options.classes.container}`)\n\n        this._pagerDOMs = []\n        Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.pagination}`)).forEach(el => {\n            if (!(el instanceof HTMLElement)) {\n                return\n            }\n            // We remove the inner part of the pager containers to ensure they are all the same.\n            el.innerHTML = `<ul class=\"${this.options.classes.paginationList}\"></ul>`\n            this._pagerDOMs.push(el.firstElementChild as HTMLElement)\n        })\n\n        this._virtualPagerDOM = {\n            nodeName: \"UL\",\n            attributes: {\n                class: this.options.classes.paginationList\n            }\n        }\n\n\n        this._label = this.wrapperDOM.querySelector(`.${this.options.classes.info}`)\n\n        // Insert in to DOM tree\n        this.dom.parentElement.replaceChild(this.wrapperDOM, this.dom)\n        this.containerDOM.appendChild(this.dom)\n\n        // Store the table dimensions\n        this._rect = this.dom.getBoundingClientRect()\n\n        // // Fix height\n        this._fixHeight()\n        //\n\n\n        // Class names\n        if (!this.options.header) {\n            this.wrapperDOM.classList.add(\"no-header\")\n        }\n\n        if (!this.options.footer) {\n            this.wrapperDOM.classList.add(\"no-footer\")\n        }\n\n        if (this.options.sortable) {\n            this.wrapperDOM.classList.add(\"sortable\")\n        }\n\n        if (this.options.searchable) {\n            this.wrapperDOM.classList.add(\"searchable\")\n        }\n\n        if (this.options.fixedHeight) {\n            this.wrapperDOM.classList.add(\"fixed-height\")\n        }\n\n        if (this.options.fixedColumns) {\n            this.wrapperDOM.classList.add(\"fixed-columns\")\n        }\n\n        this._bindEvents()\n\n        if (this.columns._state.sort) {\n            this.columns.sort(this.columns._state.sort.column, this.columns._state.sort.dir, true)\n        }\n\n        this.update(true)\n    }\n\n    _renderTable(renderOptions: renderOptions ={}) {\n        let newVirtualDOM = dataToVirtualDOM(\n            this._tableAttributes,\n            this.data.headings,\n            (this.options.paging || this._searchQueries.length) && this._currentPage && this.pages.length && !renderOptions.noPaging ?\n                this.pages[this._currentPage - 1] :\n                this.data.data.map((row, index) => ({\n                    row,\n                    index\n                })),\n            this.columns.settings,\n            this.columns._state,\n            this.rows.cursor,\n            this.options,\n            renderOptions\n        )\n\n        if (this.options.tableRender) {\n            const renderedTableVirtualDOM : (elementNodeType | void) = this.options.tableRender(this.data, newVirtualDOM, \"main\")\n            if (renderedTableVirtualDOM) {\n                newVirtualDOM = renderedTableVirtualDOM\n            }\n        }\n        const diff = this._dd.diff(this._virtualDOM, newVirtualDOM)\n        this._dd.apply(this.dom, diff)\n        this._virtualDOM = newVirtualDOM\n    }\n\n    /**\n     * Render the page\n     * @return {Void}\n     */\n    _renderPage(lastRowCursor=false) {\n        if (this.hasRows && this.totalPages) {\n            if (this._currentPage > this.totalPages) {\n                this._currentPage = 1\n            }\n\n            // Use a fragment to limit touching the DOM\n            this._renderTable()\n\n            this.onFirstPage = this._currentPage === 1\n            this.onLastPage = this._currentPage === this.lastPage\n        } else {\n            this.setMessage(this.options.labels.noRows)\n        }\n\n        // Update the info\n        let current = 0\n\n        let f = 0\n        let t = 0\n        let items\n\n        if (this.totalPages) {\n            current = this._currentPage - 1\n            f = current * this.options.perPage\n            t = f + this.pages[current].length\n            f = f + 1\n            items = this._searchQueries.length ? this._searchData.length : this.data.data.length\n        }\n\n        if (this._label && this.options.labels.info.length) {\n            // CUSTOM LABELS\n            const string = this.options.labels.info\n                .replace(\"{start}\", String(f))\n                .replace(\"{end}\", String(t))\n                .replace(\"{page}\", String(this._currentPage))\n                .replace(\"{pages}\", String(this.totalPages))\n                .replace(\"{rows}\", String(items))\n\n            this._label.innerHTML = items ? string : \"\"\n        }\n\n        if (this._currentPage == 1) {\n            this._fixHeight()\n        }\n\n        if (this.options.rowNavigation && this._currentPage) {\n            if (!this.rows.cursor || !this.pages[this._currentPage-1].find(\n                row => row.index === this.rows.cursor)\n            ) {\n                const rows = this.pages[this._currentPage-1]\n                if (rows.length) {\n                    if (lastRowCursor) {\n                        this.rows.setCursor(rows[rows.length-1].index)\n                    } else {\n                        this.rows.setCursor(rows[0].index)\n                    }\n                }\n            }\n        }\n    }\n\n    /** Render the pager(s)\n     *\n     */\n    _renderPagers() {\n        if (!this.options.paging) {\n            return\n        }\n        let newPagerVirtualDOM = createVirtualPagerDOM(this.onFirstPage, this.onLastPage, this._currentPage, this.totalPages, this.options)\n\n        if (this.options.pagerRender) {\n            const renderedPagerVirtualDOM : (elementNodeType | void) = this.options.pagerRender([this.onFirstPage, this.onLastPage, this._currentPage, this.totalPages], newPagerVirtualDOM)\n            if (renderedPagerVirtualDOM) {\n                newPagerVirtualDOM = renderedPagerVirtualDOM\n            }\n        }\n\n        const diffs = this._dd.diff(this._virtualPagerDOM, newPagerVirtualDOM)\n        // We may have more than one pager\n        this._pagerDOMs.forEach((pagerDOM: HTMLElement) => {\n            this._dd.apply(pagerDOM, diffs)\n        })\n\n        this._virtualPagerDOM = newPagerVirtualDOM\n    }\n\n    // Render header that is not in the same table element as the remainder\n    // of the table. Used for tables with scrollY.\n    _renderSeparateHeader() {\n        const container = this.dom.parentElement\n        if (!this.headerDOM) {\n            this.headerDOM = document.createElement(\"div\")\n            this._virtualHeaderDOM = {\n                nodeName: \"DIV\"\n            }\n\n        }\n        container.parentElement.insertBefore(this.headerDOM, container)\n        let tableVirtualDOM : elementNodeType = {\n            nodeName: \"TABLE\",\n            attributes: {\n                class: this.options.classes.table\n            },\n            childNodes: [\n                {\n                    nodeName: \"THEAD\",\n                    childNodes: [\n                        headingsToVirtualHeaderRowDOM(\n                            this.data.headings, this.columns.settings, this.columns._state, this.options, {unhideHeader: true})\n                    ]\n\n                }\n\n            ]\n        }\n        if (this.options.tableRender) {\n            const renderedTableVirtualDOM : (elementNodeType | void) = this.options.tableRender(this.data, tableVirtualDOM, \"header\")\n            if (renderedTableVirtualDOM) {\n                tableVirtualDOM = renderedTableVirtualDOM\n            }\n        }\n\n        const newVirtualHeaderDOM = {\n            nodeName: \"DIV\",\n            attributes: {\n                class: this.options.classes.headercontainer\n            },\n            childNodes: [tableVirtualDOM]\n        }\n\n        const diff = this._dd.diff(this._virtualHeaderDOM, newVirtualHeaderDOM)\n        this._dd.apply(this.headerDOM, diff)\n        this._virtualHeaderDOM = newVirtualHeaderDOM\n\n        // Compensate for scrollbars\n        const paddingRight = this.headerDOM.firstElementChild.clientWidth - this.dom.clientWidth\n        if (paddingRight) {\n            const paddedVirtualHeaderDOM = structuredClone(this._virtualHeaderDOM)\n            paddedVirtualHeaderDOM.attributes.style = `padding-right: ${paddingRight}px;`\n            const diff = this._dd.diff(this._virtualHeaderDOM, paddedVirtualHeaderDOM)\n            this._dd.apply(this.headerDOM, diff)\n            this._virtualHeaderDOM = paddedVirtualHeaderDOM\n        }\n\n        if (container.scrollHeight > container.clientHeight) {\n            // scrollbars on one page means scrollbars on all pages.\n            container.style.overflowY = \"scroll\"\n        }\n    }\n\n    /**\n     * Bind event listeners\n     * @return {[type]} [description]\n     */\n    _bindEvents() {\n        // Per page selector\n        if (this.options.perPageSelect) {\n            const selector = this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`)\n            if (selector && selector instanceof HTMLSelectElement) {\n                // Change per page\n                selector.addEventListener(\"change\", () => {\n                    this.options.perPage = parseInt(selector.value, 10)\n                    this.update()\n\n                    this._fixHeight()\n\n                    this.emit(\"datatable.perpage\", this.options.perPage)\n                }, false)\n            }\n        }\n\n        // Search input\n        if (this.options.searchable) {\n            this.wrapperDOM.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n                const target = event.target\n                if (!(target instanceof HTMLInputElement) || !target.matches(`.${this.options.classes.input}`)) {\n                    return\n                }\n                event.preventDefault()\n                const searches : {term: string, columns: (number[] | undefined)}[] = (Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)) as HTMLInputElement[]).filter(\n                    el => el.value.length\n                ).map(\n                    el => el.dataset.columns ?\n                        {term: el.value,\n                            columns: (JSON.parse(el.dataset.columns) as number[])} :\n                        {term: el.value,\n                            columns: undefined}\n                )\n                if (searches.length === 1) {\n                    const search = searches[0]\n                    this.search(search.term, search.columns)\n                } else {\n                    this.multiSearch(searches)\n                }\n\n            })\n        }\n\n        // Pager(s) / sorting\n        this.wrapperDOM.addEventListener(\"click\", (event: Event) => {\n            const target = event.target as Element\n            const hyperlink = target.closest(\"a\")\n            if (!hyperlink) {\n                return\n            }\n\n            if (hyperlink.hasAttribute(\"data-page\")) {\n                this.page(parseInt(hyperlink.getAttribute(\"data-page\"), 10))\n                event.preventDefault()\n            } else if (\n                hyperlink.classList.contains(this.options.classes.sorter)\n            ) {\n                const visibleIndex = Array.from(hyperlink.parentElement.parentElement.children).indexOf(hyperlink.parentElement)\n                const columnIndex = visibleToColumnIndex(visibleIndex, this.columns.settings)\n                this.columns.sort(columnIndex)\n                event.preventDefault()\n            } else if (\n                hyperlink.classList.contains(this.options.classes.filter)\n            ) {\n                const visibleIndex = Array.from(hyperlink.parentElement.parentElement.children).indexOf(hyperlink.parentElement)\n                const columnIndex = visibleToColumnIndex(visibleIndex, this.columns.settings)\n                this.columns.filter(columnIndex)\n                event.preventDefault()\n            }\n        }, false)\n        if (this.options.rowNavigation) {\n            this.dom.addEventListener(\"keydown\", (event: KeyboardEvent) => {\n                if (event.key === \"ArrowUp\") {\n                    event.preventDefault()\n                    event.stopPropagation()\n                    let lastRow\n                    this.pages[this._currentPage-1].find((row: {row: cellType[], index: number}) => {\n                        if (row.index===this.rows.cursor) {\n                            return true\n                        }\n                        lastRow = row\n                        return false\n                    })\n                    if (lastRow) {\n                        this.rows.setCursor(lastRow.index)\n                    } else if (!this.onFirstPage) {\n                        this.page(this._currentPage-1, true)\n                    }\n                } else if (event.key === \"ArrowDown\") {\n                    event.preventDefault()\n                    event.stopPropagation()\n                    let foundRow: boolean\n                    const nextRow = this.pages[this._currentPage-1].find((row: {row: cellType[], index: number}) => {\n                        if (foundRow) {\n                            return true\n                        }\n                        if (row.index===this.rows.cursor) {\n                            foundRow = true\n                        }\n                        return false\n                    })\n                    if (nextRow) {\n                        this.rows.setCursor(nextRow.index)\n                    } else if (!this.onLastPage) {\n                        this.page(this._currentPage+1)\n                    }\n                } else if ([\"Enter\", \" \"].includes(event.key)) {\n                    this.emit(\"datatable.selectrow\", this.rows.cursor, event)\n                }\n            })\n            this.dom.addEventListener(\"mousedown\", (event: Event) => {\n                const target = event.target\n                if (!(target instanceof Element)) {\n                    return\n                }\n                if (this.dom.matches(\":focus\")) {\n                    const row = Array.from(this.dom.querySelectorAll(\"body tr\")).find(row => row.contains(target))\n                    if (row && row instanceof HTMLElement) {\n                        this.emit(\"datatable.selectrow\", parseInt(row.dataset.index, 10), event)\n                    }\n                }\n\n            })\n        } else {\n            this.dom.addEventListener(\"mousedown\", (event: Event) => {\n                const target = event.target\n                if (!(target instanceof Element)) {\n                    return\n                }\n                const row = Array.from(this.dom.querySelectorAll(\"body tr\")).find(row => row.contains(target))\n                if (row && row instanceof HTMLElement) {\n                    this.emit(\"datatable.selectrow\", parseInt(row.dataset.index, 10), event)\n                }\n            })\n        }\n\n        window.addEventListener(\"resize\", this._listeners.onResize)\n    }\n\n    /**\n     * execute on resize\n     */\n    _onResize() {\n        this._rect = this.containerDOM.getBoundingClientRect()\n        if (!this._rect.width) {\n            // No longer shown, likely no longer part of DOM. Give up.\n            return\n        }\n        this.update(true)\n    }\n\n    /**\n     * Destroy the instance\n     * @return {void}\n     */\n    destroy() {\n        if (!this.options.destroyable) {\n            return\n        }\n        this.dom.innerHTML = this._initialInnerHTML\n\n        // Remove the className\n        this.dom.classList.remove(this.options.classes.table)\n\n        // Remove the containers\n        if (this.wrapperDOM.parentElement) {\n            this.wrapperDOM.parentElement.replaceChild(this.dom, this.wrapperDOM)\n        }\n\n        this.initialized = false\n\n        window.removeEventListener(\"resize\", this._listeners.onResize)\n    }\n\n    /**\n     * Update the instance\n     * @return {Void}\n     */\n    update(measureWidths = false) {\n        if (measureWidths) {\n            this.columns._measureWidths()\n            this.hasRows = Boolean(this.data.data.length)\n            this.hasHeadings = Boolean(this.data.headings.length)\n        }\n        this.wrapperDOM.classList.remove(this.options.classes.empty)\n\n        this._paginate()\n        this._renderPage()\n\n        this._renderPagers()\n\n        if (this.options.scrollY.length) {\n            this._renderSeparateHeader()\n        }\n\n        this.emit(\"datatable.update\")\n    }\n\n    _paginate() {\n        let rows = this.data.data.map((row, index) => ({\n            row,\n            index\n        }))\n\n        if (this._searchQueries.length) {\n            rows = []\n\n            this._searchData.forEach((index: number) => rows.push({index,\n                row: this.data.data[index]}))\n        }\n\n        if (this.columns._state.filters.length) {\n            this.columns._state.filters.forEach(\n                (filterState: (filterStateType | undefined), column: number) => {\n                    if (!filterState) {\n                        return\n                    }\n                    rows = rows.filter(\n                        (row: {index: number, row: cellType[]}) => typeof filterState === \"function\" ? filterState(row.row[column].data) : (row.row[column].text ?? row.row[column].data) === filterState\n                    )\n                }\n            )\n        }\n\n        if (this.options.paging && this.options.perPage > 0) {\n            // Check for hidden columns\n            this.pages = rows\n                .map((row: {row: cellType[], index: number}, i: number) => i % this.options.perPage === 0 ? rows.slice(i, i + this.options.perPage) : null)\n                .filter((page: {row: cellType[], index: number}[]) => page)\n        } else {\n            this.pages = [rows]\n        }\n\n        this.totalPages = this.lastPage = this.pages.length\n\n        if (!this._currentPage) {\n            this._currentPage = 1\n        }\n        return this.totalPages\n    }\n\n    /**\n     * Fix the container height\n     */\n    _fixHeight() {\n        if (this.options.fixedHeight) {\n            this.containerDOM.style.height = null\n            this._rect = this.containerDOM.getBoundingClientRect()\n            this.containerDOM.style.height = `${this._rect.height}px`\n        }\n    }\n\n    /**\n     * Perform a simple search of the data set\n     */\n    search(term: string, columns: (number[] | undefined ) = undefined) {\n\n        if (!term.length) {\n            this._currentPage = 1\n            this._searchQueries = []\n            this._searchData = []\n            this.update()\n            this.emit(\"datatable.search\", \"\", [])\n            this.wrapperDOM.classList.remove(\"search-results\")\n            return false\n        }\n\n        this.multiSearch([\n            {term,\n                columns: columns ? columns : undefined}\n        ])\n\n        this.emit(\"datatable.search\", term, this._searchData)\n\n    }\n\n    /**\n     * Perform a search of the data set seraching for up to multiple strings in various columns\n     */\n    multiSearch(queries : {term: string, columns: (number[] | undefined)}[]) {\n        if (!this.hasRows) return false\n\n        this._currentPage = 1\n        this._searchQueries = queries\n        this._searchData = []\n\n        queries = queries.filter(query => query.term.length)\n\n        if (!queries.length) {\n            this.update()\n            this.emit(\"datatable.multisearch\", queries, this._searchData)\n            this.wrapperDOM.classList.remove(\"search-results\")\n            return false\n        }\n        const queryWords = queries.map(query => this.columns.settings.map(\n            (column, index) => {\n                if (column.hidden || !column.searchable || (query.columns && !query.columns.includes(index))) {\n                    return false\n                }\n                let columnQuery = query.term\n                const sensitivity = column.sensitivity || this.options.sensitivity\n                if ([\"base\", \"accent\"].includes(sensitivity)) {\n                    columnQuery = columnQuery.toLowerCase()\n                }\n                if ([\"base\", \"case\"].includes(sensitivity)) {\n                    columnQuery = columnQuery.normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\")\n                }\n                const ignorePunctuation = column.ignorePunctuation || this.options.ignorePunctuation\n                if (ignorePunctuation) {\n                    columnQuery = columnQuery.replace(/[.,/#!$%^&*;:{}=-_`~()]/g, \"\")\n                }\n                return columnQuery\n            }\n        )\n        )\n        this.data.data.forEach((row: cellType[], idx: number) => {\n            const searchRow = row.map((cell, i) => {\n                let content = (cell.text || String(cell.data)).trim()\n                if (content.length) {\n                    const column = this.columns.settings[i]\n                    const sensitivity = column.sensitivity || this.options.sensitivity\n                    if ([\"base\", \"accent\"].includes(sensitivity)) {\n                        content = content.toLowerCase()\n                    }\n                    if ([\"base\", \"case\"].includes(sensitivity)) {\n                        content = content.normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\")\n                    }\n                    const ignorePunctuation = column.ignorePunctuation || this.options.ignorePunctuation\n                    if (ignorePunctuation) {\n                        content = content.replace(/[.,/#!$%^&*;:{}=-_`~()]/g, \"\")\n                    }\n                }\n                return content\n            })\n            if (\n                queryWords.every(\n                    queries => queries.find(\n                        (query, index) => query ?\n                            query.split(\" \").find(queryWord => searchRow[index].includes(queryWord)) :\n                            false\n                    )\n                )\n            ) {\n                this._searchData.push(idx)\n            }\n\n        })\n\n        this.wrapperDOM.classList.add(\"search-results\")\n        if (this._searchData.length) {\n            this.update()\n        } else {\n            this.wrapperDOM.classList.remove(\"search-results\")\n\n            this.setMessage(this.options.labels.noResults)\n        }\n\n        this.emit(\"datatable.multisearch\", queries, this._searchData)\n    }\n\n    /**\n     * Change page\n     */\n    page(page: number, lastRowCursor = false) {\n        // We don't want to load the current page again.\n        if (page === this._currentPage) {\n            return false\n        }\n\n        if (!isNaN(page)) {\n            this._currentPage = page\n        }\n\n        if (page > this.pages.length || page < 0) {\n            return false\n        }\n\n        this._renderPage(lastRowCursor)\n        this._renderPagers()\n\n        this.emit(\"datatable.page\", page)\n    }\n\n    /**\n     * Add new row data\n     */\n    insert(data: (\n        {headings?: string[], data?: inputCellType[][]} | { [key: string]: inputCellType}[])) {\n        let rows: cellType[][] = []\n        if (Array.isArray(data)) {\n            const headings = this.data.headings.map((heading: headerCellType) => heading.text ?? String(heading.data))\n            data.forEach((row, rIndex) => {\n                const r: cellType[] = []\n                Object.entries(row).forEach(([heading, cell]) => {\n\n                    const index = headings.indexOf(heading)\n\n                    if (index > -1) {\n                        r[index] = readDataCell(cell as inputCellType, this.columns.settings[index])\n                    } else if (!this.hasHeadings && !this.hasRows && rIndex === 0) {\n                        r[headings.length] = readDataCell(cell as inputCellType, this.columns.settings[headings.length])\n                        headings.push(heading)\n                        this.data.headings.push(readHeaderCell(heading))\n                    }\n                })\n                rows.push(r)\n            })\n        } else if (isObject(data)) {\n            if (data.headings && !this.hasHeadings && !this.hasRows) {\n                this.data = readTableData(data, undefined, this.columns.settings, this.options.type, this.options.format)\n            } else if (data.data && Array.isArray(data.data)) {\n                rows = data.data.map(row => row.map((cell, index) => readDataCell(cell as inputCellType, this.columns.settings[index])))\n            }\n        }\n        if (rows.length) {\n            rows.forEach((row: cellType[]) => this.data.data.push(row))\n        }\n        this.hasHeadings = Boolean(this.data.headings.length)\n\n        if (this.columns._state.sort) {\n            this.columns.sort(this.columns._state.sort.column, this.columns._state.sort.dir, true)\n        }\n\n        this.update(true)\n    }\n\n    /**\n     * Refresh the instance\n     */\n    refresh() {\n        if (this.options.searchable) {\n            (Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)) as HTMLInputElement[]).forEach(\n                el => {\n                    el.value = \"\"\n                }\n            )\n            this._searchQueries = []\n        }\n        this._currentPage = 1\n        this.onFirstPage = true\n        this.update(true)\n\n        this.emit(\"datatable.refresh\")\n    }\n\n    /**\n     * Print the table\n     */\n    print() {\n        const tableDOM = createElement(\"table\")\n        const tableVirtualDOM = {nodeName: \"TABLE\"}\n        let newTableVirtualDOM = dataToVirtualDOM(\n            this._tableAttributes,\n            this.data.headings,\n            this.data.data.map((row, index) => ({\n                row,\n                index\n            })),\n            this.columns.settings,\n            this.columns._state,\n            false, // No row cursor\n            this.options,\n            {\n                noColumnWidths: true,\n                unhideHeader: true\n            }\n        )\n\n        if (this.options.tableRender) {\n            const renderedTableVirtualDOM : (elementNodeType | void) = this.options.tableRender(this.data, newTableVirtualDOM, \"print\")\n            if (renderedTableVirtualDOM) {\n                newTableVirtualDOM = renderedTableVirtualDOM\n            }\n        }\n\n        const diff = this._dd.diff(tableVirtualDOM, newTableVirtualDOM)\n        this._dd.apply(tableDOM, diff)\n\n        // Open new window\n        const w = window.open()\n\n        // Append the table to the body\n        w.document.body.appendChild(tableDOM)\n\n        // Print\n        w.print()\n    }\n\n    /**\n     * Show a message in the table\n     */\n    setMessage(message: string) {\n        const activeHeadings = this.data.headings.filter((heading: headerCellType, index: number) => !this.columns.settings[index]?.hidden)\n        const colspan = activeHeadings.length || 1\n\n        this.wrapperDOM.classList.add(this.options.classes.empty)\n\n        if (this._label) {\n            this._label.innerHTML = \"\"\n        }\n        this.totalPages = 0\n        this._renderPagers()\n\n        let newVirtualDOM : elementNodeType = {\n            nodeName: \"TABLE\",\n            attributes: {\n                class: this.options.classes.table\n            },\n            childNodes: [\n                {\n                    nodeName: \"THEAD\",\n                    childNodes: [\n                        headingsToVirtualHeaderRowDOM(\n                            this.data.headings, this.columns.settings, this.columns._state, this.options, {})\n                    ]\n                },\n                {\n                    nodeName: \"TBODY\",\n                    childNodes: [\n                        {\n                            nodeName: \"TR\",\n                            childNodes: [\n                                {\n                                    nodeName: \"TD\",\n                                    attributes: {\n                                        class: this.options.classes.empty,\n                                        colspan: String(colspan)\n                                    },\n                                    childNodes: [\n                                        {\n                                            nodeName: \"#text\",\n                                            data: message\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    ]\n                }\n\n            ]\n        }\n\n        if (this.options.tableRender) {\n            const renderedTableVirtualDOM : (elementNodeType | void) = this.options.tableRender(this.data, newVirtualDOM, \"message\")\n            if (renderedTableVirtualDOM) {\n                newVirtualDOM = renderedTableVirtualDOM\n            }\n        }\n\n        const diff = this._dd.diff(this._virtualDOM, newVirtualDOM)\n        this._dd.apply(this.dom, diff)\n        this._virtualDOM = newVirtualDOM\n\n    }\n\n    /**\n     * Add custom event listener\n     */\n    on(event: string, callback: () => void) {\n        this._events[event] = this._events[event] || []\n        this._events[event].push(callback)\n    }\n\n    /**\n     * Remove custom event listener\n     */\n    off(event: string, callback: () => void) {\n        if (event in this._events === false) return\n        this._events[event].splice(this._events[event].indexOf(callback), 1)\n    }\n\n    /**\n     * Fire custom event\n     */\n    emit(event: string, ...args) {\n        if (event in this._events === false) return\n        for (let i = 0; i < this._events[event].length; i++) {\n            this._events[event][i](...args)\n        }\n    }\n}\n","import {\n    isObject\n} from \"../helpers\"\n\ninterface csvConvertUserOptions {\n  lineDelimiter?: string,\n  columnDelimiter?: string\n  removeDoubleQuotes?: boolean\n  data: string,\n  headings?: string[],\n}\n\n\n/**\n * Convert CSV data to fit the format used in the table.\n */\nexport const convertCSV = function(userOptions : csvConvertUserOptions) {\n    let obj\n    const defaults = {\n        lineDelimiter: \"\\n\",\n        columnDelimiter: \",\",\n        removeDoubleQuotes: false\n    }\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n        return false\n    }\n\n    const options = {\n        ...defaults,\n        ...userOptions\n    }\n\n    if (options.data.length) {\n        // Import CSV\n        obj = {\n            data: []\n        }\n\n        // Split the string into rows\n        const rows : string[] = options.data.split(options.lineDelimiter)\n\n        if (rows.length) {\n\n            if (options.headings) {\n                obj.headings = rows[0].split(options.columnDelimiter)\n                if (options.removeDoubleQuotes) {\n                    obj.headings = obj.headings.map((e: string) => e.trim().replace(/(^\"|\"$)/g, \"\"))\n                }\n                rows.shift()\n            }\n\n            rows.forEach((row: string, i: number) => {\n                obj.data[i] = []\n\n                // Split the rows into values\n                const values = row.split(options.columnDelimiter)\n\n                if (values.length) {\n                    values.forEach((value: string) => {\n                        if (options.removeDoubleQuotes) {\n                            value = value.trim().replace(/(^\"|\"$)/g, \"\")\n                        }\n                        obj.data[i].push(value)\n                    })\n                }\n            })\n        }\n\n        if (obj) {\n            return obj\n        }\n    }\n\n    return false\n}\n","import {\n    isJson,\n    isObject\n} from \"../helpers\"\n\ninterface jsonConvertUserOptions {\n  lineDelimiter?: string,\n  columnDelimiter?: string\n  removeDoubleQuotes?: boolean\n  data: string,\n  headings?: string[],\n}\n\n/**\n * Convert JSON data to fit the format used in the table.\n */\nexport const convertJSON = function(userOptions : jsonConvertUserOptions) {\n    let obj\n    const defaults = {\n        data: \"\"\n    }\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n        return false\n    }\n\n    const options = {\n        ...defaults,\n        ...userOptions\n    }\n\n    if (options.data.length || isObject(options.data)) {\n        // Import JSON\n        const json = isJson(options.data) ? JSON.parse(options.data) : false\n\n        // Valid JSON string\n        if (json) {\n            obj = {\n                headings: [],\n                data: []\n            }\n\n            json.forEach((data: { [key: string]: string | number | boolean | null | undefined}, i: number) => {\n                obj.data[i] = []\n                Object.entries(data).forEach(([column, value]) => {\n                    if (!obj.headings.includes(column)) {\n                        obj.headings.push(column)\n                    }\n                    obj.data[i].push(value)\n                })\n            })\n        } else {\n            console.warn(\"That's not valid JSON!\")\n        }\n\n        if (obj) {\n            return obj\n        }\n    }\n\n    return false\n}\n","import {\n    isObject\n} from \"../helpers\"\nimport {DataTable} from \"../datatable\"\nimport {\n    cellType,\n    headerCellType\n} from \"../types\"\n\n/**\n * Export table to CSV\n */\n\ninterface csvUserOptions {\n  download?: boolean,\n  skipColumn?: number[],\n  lineDelimiter?: string,\n  columnDelimiter?: string,\n  selection?: number | number[],\n  filename?: string,\n}\n\n\nexport const exportCSV = function(dt: DataTable, userOptions: csvUserOptions = {}) {\n    if (!dt.hasHeadings && !dt.hasRows) return false\n\n    const defaults = {\n        download: true,\n        skipColumn: [],\n        lineDelimiter: \"\\n\",\n        columnDelimiter: \",\"\n    }\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n        return false\n    }\n\n    const options = {\n        ...defaults,\n        ...userOptions\n    }\n    const columnShown = (index: number) => !options.skipColumn.includes(index) && !dt.columns.settings[index]?.hidden\n    let rows : (string | number | boolean | object | undefined | null)[][] = []\n    const headers = dt.data.headings.filter((_heading: headerCellType, index: number) => columnShown(index)).map((header: headerCellType) => header.text ?? header.data)\n    // Include headings\n    rows[0] = headers\n\n    // Selection or whole table\n    if (options.selection) {\n        // Page number\n        if (Array.isArray(options.selection)) {\n            // Array of page numbers\n            for (let i = 0; i < options.selection.length; i++) {\n                rows = rows.concat(dt.pages[options.selection[i] - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.text ?? cell.data)))\n            }\n\n        } else {\n            rows = rows.concat(dt.pages[options.selection - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.text ?? cell.data)))\n        }\n    } else {\n        rows = rows.concat(dt.data.data.map((row: cellType[]) => row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.text ?? cell.data)))\n    }\n\n    // Only proceed if we have data\n    if (rows.length) {\n        let str = \"\"\n        rows.forEach(row => {\n            row.forEach((cell: (string | number | boolean | object | undefined | null)) => {\n                if (typeof cell === \"string\") {\n                    cell = cell.trim()\n                    cell = cell.replace(/\\s{2,}/g, \" \")\n                    cell = cell.replace(/\\n/g, \"  \")\n                    cell = cell.replace(/\"/g, \"\\\"\\\"\")\n                    //have to manually encode \"#\" as encodeURI leaves it as is.\n                    cell = cell.replace(/#/g, \"%23\")\n                    if (cell.includes(\",\")) {\n                        cell = `\"${cell}\"`\n                    }\n                }\n                str += cell + options.columnDelimiter\n            })\n            // Remove trailing column delimiter\n            str = str.trim().substring(0, str.length - 1)\n\n            // Apply line delimiter\n            str += options.lineDelimiter\n        })\n\n        // Remove trailing line delimiter\n        str = str.trim().substring(0, str.length - 1)\n\n        // Download\n        if (options.download) {\n            // Create a link to trigger the download\n            const link = document.createElement(\"a\")\n            link.href = encodeURI(`data:text/csv;charset=utf-8,${str}`)\n            link.download = `${options.filename || \"datatable_export\"}.csv`\n\n            // Append the link\n            document.body.appendChild(link)\n\n            // Trigger the download\n            link.click()\n\n            // Remove the link\n            document.body.removeChild(link)\n        }\n\n        return str\n    }\n\n    return false\n}\n","import {\n    isObject\n} from \"../helpers\"\nimport {DataTable} from \"../datatable\"\nimport {\n    cellType,\n    headerCellType,\n    elementNodeType\n} from \"../types\"\n/**\n * Export table to JSON\n */\n\n interface jsonUserOptions {\n   download?: boolean,\n   skipColumn?: number[],\n   replacer?: null | ((key, value) => string) | (string | number)[],\n   space?: number,\n   selection?: number | number[],\n   filename?: string,\n }\n\n\nexport const exportJSON = function(dt: DataTable, userOptions: jsonUserOptions = {}) {\n    if (!dt.hasHeadings && !dt.hasRows) return false\n\n\n    const defaults = {\n        download: true,\n        skipColumn: [],\n        replacer: null,\n        space: 4\n    }\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n        return false\n    }\n\n    const options = {\n        ...defaults,\n        ...userOptions\n    }\n\n    const columnShown = (index: number) => !options.skipColumn.includes(index) && !dt.columns.settings[index]?.hidden\n\n    let rows : (string | number | boolean | object | undefined | null)[][] = []\n    // Selection or whole table\n    if (options.selection) {\n        // Page number\n        if (Array.isArray(options.selection)) {\n            // Array of page numbers\n            for (let i = 0; i < options.selection.length; i++) {\n                rows = rows.concat(dt.pages[options.selection[i] - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n            }\n        } else {\n            rows = rows.concat(dt.pages[options.selection - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n        }\n    } else {\n        rows = rows.concat(dt.data.data.map((row: cellType[]) => row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n    }\n\n    const headers = dt.data.headings.filter((_heading: headerCellType, index: number) => columnShown(index)).map((header: headerCellType) => header.text ?? String(header.data))\n\n    // Only proceed if we have data\n    if (rows.length) {\n        const arr: (void | { [key: string]: (string | number | boolean | undefined | null | elementNodeType[])})[] = []\n        rows.forEach((row: (string | number | boolean | object | undefined | null)[], x: number) => {\n            arr[x] = arr[x] || {}\n            row.forEach((cell: (string | number | boolean | object | undefined | null), i: number) => {\n                arr[x][headers[i]] = cell\n            })\n        })\n\n        // Convert the array of objects to JSON string\n        const str = JSON.stringify(arr, options.replacer, options.space)\n\n        // Download\n        if (options.download) {\n            // Create a link to trigger the download\n\n            const blob = new Blob(\n                [str],\n                {\n                    type: \"data:application/json;charset=utf-8\"\n                }\n            )\n            const url = URL.createObjectURL(blob)\n\n\n            const link = document.createElement(\"a\")\n            link.href = url\n            link.download = `${options.filename || \"datatable_export\"}.json`\n\n            // Append the link\n            document.body.appendChild(link)\n\n            // Trigger the download\n            link.click()\n\n            // Remove the link\n            document.body.removeChild(link)\n            URL.revokeObjectURL(url)\n        }\n\n        return str\n    }\n\n    return false\n}\n","import {\n    isObject\n} from \"../helpers\"\nimport {DataTable} from \"../datatable\"\nimport {\n    cellType,\n    headerCellType\n} from \"../types\"\n/**\n * Export table to SQL\n */\n\n interface sqlUserOptions {\n   download?: boolean,\n   skipColumn?: number[],\n   tableName?: string,\n   selection?: number | number[],\n   filename?: string,\n }\n\nexport const exportSQL = function(dt: DataTable, userOptions : sqlUserOptions = {}) {\n    if (!dt.hasHeadings && !dt.hasRows) return false\n\n    const defaults = {\n        download: true,\n        skipColumn: [],\n        tableName: \"myTable\"\n    }\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n        return false\n    }\n\n    const options = {\n        ...defaults,\n        ...userOptions\n    }\n    const columnShown = (index: number) => !options.skipColumn.includes(index) && !dt.columns.settings[index]?.hidden\n    let rows : (string | number | boolean | object | undefined | null)[][] = []\n    // Selection or whole table\n    if (options.selection) {\n        // Page number\n        if (Array.isArray(options.selection)) {\n            // Array of page numbers\n            for (let i = 0; i < options.selection.length; i++) {\n                rows = rows.concat(dt.pages[options.selection[i] - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.text ?? cell.data)))\n            }\n        } else {\n            rows = rows.concat(dt.pages[options.selection - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.text ?? cell.data)))\n        }\n    } else {\n        rows = rows.concat(dt.data.data.map((row: cellType[]) => row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n    }\n\n    const headers = dt.data.headings.filter((_heading: headerCellType, index: number) => columnShown(index)).map((header: headerCellType) => header.text ?? String(header.data))\n    // Only proceed if we have data\n    if (rows.length) {\n        // Begin INSERT statement\n        let str = `INSERT INTO \\`${options.tableName}\\` (`\n\n        // Convert table headings to column names\n        headers.forEach((header: string) => {\n            str += `\\`${header}\\`,`\n        })\n\n        // Remove trailing comma\n        str = str.trim().substring(0, str.length - 1)\n\n        // Begin VALUES\n        str += \") VALUES \"\n\n        // Iterate rows and convert cell data to column values\n\n        rows.forEach((row: (string | number | boolean | object | undefined | null)[]) => {\n            str += \"(\"\n            row.forEach((cell: (string | number | boolean | object | undefined | null)) => {\n                if (typeof cell === \"string\") {\n                    str += `\"${cell}\",`\n                } else {\n                    str += `${cell},`\n                }\n            })\n            // Remove trailing comma\n            str = str.trim().substring(0, str.length - 1)\n\n            // end VALUES\n            str += \"),\"\n\n        })\n\n        // Remove trailing comma\n        str = str.trim().substring(0, str.length - 1)\n\n        // Add trailing colon\n        str += \";\"\n\n        if (options.download) {\n            str = `data:application/sql;charset=utf-8,${str}`\n        }\n\n        // Download\n        if (options.download) {\n            // Create a link to trigger the download\n            const link = document.createElement(\"a\")\n            link.href = encodeURI(str)\n            link.download = `${options.filename || \"datatable_export\"}.sql`\n\n            // Append the link\n            document.body.appendChild(link)\n\n            // Trigger the download\n            link.click()\n\n            // Remove the link\n            document.body.removeChild(link)\n        }\n\n        return str\n    }\n\n    return false\n}\n","import {\n    isObject\n} from \"../helpers\"\nimport {DataTable} from \"../datatable\"\nimport {\n    cellType,\n    headerCellType\n} from \"../types\"\n/**\n * Export table to TXT\n */\n interface txtUserOptions {\n   download?: boolean,\n   skipColumn?: number[],\n   lineDelimiter?: string,\n   columnDelimiter?: string,\n   selection?: number | number[],\n   filename?: string,\n }\n\n\nexport const exportTXT = function(dt: DataTable, userOptions : txtUserOptions = {}) {\n    if (!dt.hasHeadings && !dt.hasRows) return false\n\n    const defaults = {\n        download: true,\n        skipColumn: [],\n        lineDelimiter: \"\\n\",\n        columnDelimiter: \",\"\n    }\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n        return false\n    }\n\n    const options = {\n        ...defaults,\n        ...userOptions\n    }\n\n    const columnShown = (index: number) => !options.skipColumn.includes(index) && !dt.columns.settings[index]?.hidden\n\n    let rows : (string | number | boolean | object | undefined | null)[][] = []\n    const headers = dt.data.headings.filter((_heading: headerCellType, index: number) => columnShown(index)).map((header: headerCellType) => header.text ?? header.data)\n    // Include headings\n    rows[0] = headers\n\n    // Selection or whole table\n    if (options.selection) {\n        // Page number\n        if (Array.isArray(options.selection)) {\n            // Array of page numbers\n            for (let i = 0; i < options.selection.length; i++) {\n                rows = rows.concat(dt.pages[options.selection[i] - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n            }\n        } else {\n            rows = rows.concat(dt.pages[options.selection - 1].map((row: {row: cellType[], index: number}) => row.row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n        }\n    } else {\n        rows = rows.concat(dt.data.data.map((row: cellType[]) => row.filter((_cell: cellType, index: number) => columnShown(index)).map((cell: cellType) => cell.data)))\n    }\n\n    // Only proceed if we have data\n    if (rows.length) {\n        let str = \"\"\n\n        rows.forEach(row => {\n            row.forEach((cell: (string | number | boolean | object | undefined | null)) => {\n                if (typeof cell === \"string\") {\n                    cell = cell.trim()\n                    cell = cell.replace(/\\s{2,}/g, \" \")\n                    cell = cell.replace(/\\n/g, \"  \")\n                    cell = cell.replace(/\"/g, \"\\\"\\\"\")\n                    //have to manually encode \"#\" as encodeURI leaves it as is.\n                    cell = cell.replace(/#/g, \"%23\")\n                    if (cell.includes(\",\")) {\n                        cell = `\"${cell}\"`\n                    }\n                }\n                str += cell + options.columnDelimiter\n            })\n            // Remove trailing column delimiter\n            str = str.trim().substring(0, str.length - 1)\n\n            // Apply line delimiter\n            str += options.lineDelimiter\n\n        })\n\n        // Remove trailing line delimiter\n        str = str.trim().substring(0, str.length - 1)\n\n        if (options.download) {\n            str = `data:text/csv;charset=utf-8,${str}`\n        }\n        // Download\n        if (options.download) {\n            // Create a link to trigger the download\n            const link = document.createElement(\"a\")\n            link.href = encodeURI(str)\n            link.download = `${options.filename || \"datatable_export\"}.txt`\n\n            // Append the link\n            document.body.appendChild(link)\n\n            // Trigger the download\n            link.click()\n\n            // Remove the link\n            document.body.removeChild(link)\n        }\n\n        return str\n    }\n\n    return false\n}\n","/**\n* Default config\n* @type {Object}\n*/\nimport {Editor} from \"./editor\"\n\nexport const defaultConfig = {\n    classes: {\n        row: \"datatable-editor-row\",\n        form: \"datatable-editor-form\",\n        item: \"datatable-editor-item\",\n        menu: \"datatable-editor-menu\",\n        save: \"datatable-editor-save\",\n        block: \"datatable-editor-block\",\n        close: \"datatable-editor-close\",\n        inner: \"datatable-editor-inner\",\n        input: \"datatable-editor-input\",\n        label: \"datatable-editor-label\",\n        modal: \"datatable-editor-modal\",\n        action: \"datatable-editor-action\",\n        header: \"datatable-editor-header\",\n        wrapper: \"datatable-editor-wrapper\",\n        editable: \"datatable-editor-editable\",\n        container: \"datatable-editor-container\",\n        separator: \"datatable-editor-separator\"\n    },\n\n    labels: {\n        editCell: \"Edit Cell\",\n        editRow: \"Edit Row\",\n        removeRow: \"Remove Row\",\n        reallyRemove: \"Are you sure?\"\n    },\n\n    // edit inline instead of using a modal lay-over for editing content\n    inline: true,\n\n    // include hidden columns in the editor\n    hiddenColumns: false,\n\n    // enable the context menu\n    contextMenu: true,\n\n    // event to start editing\n    clickEvent: \"dblclick\",\n\n    // indexes of columns not to be edited\n    excludeColumns: [],\n\n    // set the context menu items\n    menuItems: [\n        {\n            text: (editor: Editor) => editor.options.labels.editCell,\n            action: (editor: Editor, _event: Event) => {\n                if (!(editor.event.target instanceof Element)) {\n                    return\n                }\n                const cell = editor.event.target.closest(\"td\")\n                return editor.editCell(cell)\n            }\n        },\n        {\n            text: (editor: Editor) => editor.options.labels.editRow,\n            action: (editor: Editor, _event: Event) => {\n                if (!(editor.event.target instanceof Element)) {\n                    return\n                }\n                const row = editor.event.target.closest(\"tr\")\n                return editor.editRow(row)\n            }\n        },\n        {\n            separator: true\n        },\n        {\n            text: (editor: Editor) => editor.options.labels.removeRow,\n            action: (editor: Editor, _event: Event) => {\n                if (!(editor.event.target instanceof Element)) {\n                    return\n                }\n                if (confirm(editor.options.labels.reallyRemove)) {\n                    const row = editor.event.target.closest(\"tr\")\n                    editor.removeRow(row)\n                }\n            }\n        }\n    ]\n}\n","import {\n    createElement,\n    escapeText,\n    visibleToColumnIndex,\n    columnToVisibleIndex\n} from \"../helpers\"\nimport {\n    cellType,\n    rowRenderType,\n    elementNodeType\n} from \"../types\"\nimport {DataTable} from \"../datatable\"\nimport {parseDate} from \"../date\"\n\nimport {\n    defaultConfig\n} from \"./config\"\nimport {\n    debounce\n} from \"./helpers\"\nimport {menuItemType, dataType, EditorOptions} from \"./types\"\n\n\n/**\n * Main lib\n * @param {Object} dataTable Target dataTable\n * @param {Object} options User config\n */\nexport class Editor {\n    closed: boolean\n\n    containerDOM: HTMLElement\n\n    data: dataType\n\n    disabled: boolean\n\n    dt: DataTable\n\n    editing: boolean\n\n    editingCell: boolean\n\n    editingRow: boolean\n\n    event: Event\n\n    events: { [key: string]: () => void}\n\n    initialized: boolean\n\n    limits: {x: number, y: number}\n\n    menuDOM: HTMLElement\n\n    modalDOM: HTMLElement | false\n\n    options: EditorOptions\n\n    originalRowRender: rowRenderType | false\n\n    rect: {width: number, height: number}\n\n    wrapperDOM: HTMLElement\n\n    constructor(dataTable: DataTable, options = {}) {\n        this.dt = dataTable\n        this.options = {\n            ...defaultConfig,\n            ...options\n        }\n    }\n\n    /**\n     * Init instance\n     * @return {Void}\n     */\n    init() {\n        if (this.initialized) {\n            return\n        }\n        this.dt.wrapperDOM.classList.add(this.options.classes.editable)\n        if (this.options.inline) {\n            this.originalRowRender = this.dt.options.rowRender\n            this.dt.options.rowRender = (row, tr, index) => {\n                let newTr = this.rowRender(row, tr, index)\n                if (this.originalRowRender) {\n                    newTr = this.originalRowRender(row, newTr, index)\n                }\n                return newTr\n            }\n        }\n        if (this.options.contextMenu) {\n            this.containerDOM = createElement(\"div\", {\n                id: this.options.classes.container\n            })\n            this.wrapperDOM = createElement(\"div\", {\n                class: this.options.classes.wrapper\n            })\n            this.menuDOM = createElement(\"ul\", {\n                class: this.options.classes.menu\n            })\n            if (this.options.menuItems && this.options.menuItems.length) {\n                this.options.menuItems.forEach((item: menuItemType) => {\n                    const li = createElement(\"li\", {\n                        class: item.separator ? this.options.classes.separator : this.options.classes.item\n                    })\n                    if (!item.separator) {\n                        const a = createElement(\"a\", {\n                            class: this.options.classes.action,\n                            href: item.url || \"#\",\n                            html: typeof item.text === \"function\" ? item.text(this) : item.text\n                        })\n                        li.appendChild(a)\n                        if (item.action && typeof item.action === \"function\") {\n                            a.addEventListener(\"click\", (event: Event) => {\n                                event.preventDefault()\n                                item.action(this, event)\n                            })\n                        }\n                    }\n                    this.menuDOM.appendChild(li)\n                })\n            }\n            this.wrapperDOM.appendChild(this.menuDOM)\n            this.containerDOM.appendChild(this.wrapperDOM)\n            this.update()\n        }\n        this.data = {}\n        this.closed = true\n        this.editing = false\n        this.editingRow = false\n        this.editingCell = false\n        this.bindEvents()\n        setTimeout(() => {\n            this.initialized = true\n            this.dt.emit(\"editable.init\")\n        }, 10)\n    }\n\n    /**\n     * Bind events to DOM\n     * @return {Void}\n     */\n    bindEvents() {\n        this.events = {\n            context: this.context.bind(this),\n            update: this.update.bind(this),\n            dismiss: this.dismiss.bind(this),\n            keydown: this.keydown.bind(this),\n            click: this.click.bind(this)\n        }\n        // listen for click / double-click\n        this.dt.dom.addEventListener(this.options.clickEvent, this.events.click)\n        // listen for click everywhere except the menu\n        document.addEventListener(\"click\", this.events.dismiss)\n        // listen for right-click\n        document.addEventListener(\"keydown\", this.events.keydown)\n        if (this.options.contextMenu) {\n            // listen for right-click\n\n            this.dt.dom.addEventListener(\"contextmenu\", this.events.context)\n            // reset\n            this.events.reset = debounce(() => this.events.update(), 50)\n            window.addEventListener(\"resize\", this.events.reset)\n            window.addEventListener(\"scroll\", this.events.reset)\n        }\n    }\n\n    /**\n     * contextmenu listener\n     * @param  {Object} event Event\n     * @return {Void}\n     */\n    context(event: MouseEvent) {\n        const target = event.target\n        if (!(target instanceof Element)) {\n            return\n        }\n        this.event = event\n\n        const cell = target.closest(\"tbody td\")\n        if (this.options.contextMenu && !this.disabled && cell) {\n            event.preventDefault()\n            // get the mouse position\n            let x = event.pageX\n            let y = event.pageY\n            // check if we're near the right edge of window\n            if (x > this.limits.x) {\n                x -= this.rect.width\n            }\n            // check if we're near the bottom edge of window\n            if (y > this.limits.y) {\n                y -= this.rect.height\n            }\n            this.wrapperDOM.style.top = `${y}px`\n            this.wrapperDOM.style.left = `${x}px`\n            this.openMenu()\n            this.update()\n        }\n    }\n\n    /**\n     * dblclick listener\n     * @param  {Object} event Event\n     * @return {Void}\n     */\n    click(event: MouseEvent) {\n        const target = event.target\n        if (!(target instanceof Element)) {\n            return\n        }\n        if (this.editing && this.data && this.editingCell) {\n            const input = this.modalDOM ?\n                (this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement) :\n                (this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement)\n            this.saveCell(input.value)\n        } else if (!this.editing) {\n            const cell = target.closest(\"tbody td\") as HTMLTableCellElement\n            if (cell) {\n                this.editCell(cell)\n                event.preventDefault()\n            }\n        }\n    }\n\n    /**\n     * keydown listener\n     * @param  {Object} event Event\n     * @return {Void}\n     */\n    keydown(event: KeyboardEvent) {\n        if (this.modalDOM) {\n            if (event.key === \"Escape\") { // close button\n                this.closeModal()\n            } else if (event.key === \"Enter\") { // save button\n                // Save\n                if (this.editingCell) {\n                    const input = (this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement)\n                    this.saveCell(input.value)\n                } else {\n                    const inputs = (Array.from(this.modalDOM.querySelectorAll(`input.${this.options.classes.input}[type=text]`)) as HTMLInputElement[])\n                    this.saveRow(inputs.map(input => input.value.trim()), this.data.row)\n                }\n\n\n            }\n        } else if (this.editing && this.data) {\n            if (event.key === \"Enter\") {\n                // Enter key saves\n                if (this.editingCell) {\n                    const input = (this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement)\n                    this.saveCell(input.value)\n                } else if (this.editingRow) {\n                    const inputs = (Array.from(this.dt.wrapperDOM.querySelectorAll(`input.${this.options.classes.input}[type=text]`)) as HTMLInputElement[])\n                    this.saveRow(inputs.map(input => input.value.trim()), this.data.row)\n                }\n            } else if (event.key === \"Escape\") {\n                // Escape key reverts\n                this.saveCell(this.data.content)\n            }\n        }\n    }\n\n    /**\n     * Edit cell\n     * @param  {Object} td    The HTMLTableCellElement\n     * @return {Void}\n     */\n    editCell(td: HTMLTableCellElement) {\n        const columnIndex = visibleToColumnIndex(td.cellIndex, this.dt.columns.settings)\n        if (this.options.excludeColumns.includes(columnIndex)) {\n            this.closeMenu()\n            return\n        }\n        const rowIndex = parseInt(td.parentElement.dataset.index, 10)\n        const row = this.dt.data.data[rowIndex]\n        const cell = row[columnIndex]\n\n        this.data = {\n            cell,\n            rowIndex,\n            columnIndex,\n            content: cell.text || String(cell.data)\n        }\n        this.editing = true\n        this.editingCell = true\n        if (this.options.inline) {\n            this.dt.update()\n        } else {\n            this.editCellModal()\n        }\n        this.closeMenu()\n    }\n\n    editCellModal() {\n        const cell = this.data.cell\n        const columnIndex = this.data.columnIndex\n        const label = this.dt.data.headings[columnIndex].text || String(this.dt.data.headings[columnIndex].data)\n        const template = [\n            `<div class='${this.options.classes.inner}'>`,\n            `<div class='${this.options.classes.header}'>`,\n            \"<h4>Editing cell</h4>\",\n            `<button class='${this.options.classes.close}' type='button' data-editor-close>×</button>`,\n            \" </div>\",\n            `<div class='${this.options.classes.block}'>`,\n            `<form class='${this.options.classes.form}'>`,\n            `<div class='${this.options.classes.row}'>`,\n            `<label class='${this.options.classes.label}'>${escapeText(label)}</label>`,\n            `<input class='${this.options.classes.input}' value='${escapeText(cell.text || String(cell.data) || \"\")}' type='text'>`,\n            \"</div>\",\n            `<div class='${this.options.classes.row}'>`,\n            `<button class='${this.options.classes.save}' type='button' data-editor-save>Save</button>`,\n            \"</div>\",\n            \"</form>\",\n            \"</div>\",\n            \"</div>\"\n        ].join(\"\")\n        const modalDOM = createElement(\"div\", {\n            class: this.options.classes.modal,\n            html: template\n        })\n        this.modalDOM = modalDOM\n        this.openModal()\n        const input = (modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement)\n        input.focus()\n        input.selectionStart = input.selectionEnd = input.value.length\n        // Close / save\n        modalDOM.addEventListener(\"click\", (event: Event) => {\n            const target = event.target\n            if (!(target instanceof Element)) {\n                return\n            }\n            if (target.hasAttribute(\"data-editor-close\")) { // close button\n                this.closeModal()\n            } else if (target.hasAttribute(\"data-editor-save\")) { // save button\n                // Save\n                this.saveCell(input.value)\n            }\n        })\n    }\n\n    /**\n     * Save edited cell\n     * @param  {Object} row    The HTMLTableCellElement\n     * @param  {String} value   Cell content\n     * @return {Void}\n     */\n    saveCell(value: string) {\n        const oldData = this.data.content\n        // Get the type of that column\n        const type = this.dt.columns.settings[this.data.columnIndex].type || this.dt.options.type\n        const stringValue = value.trim()\n        let cell\n        if (type === \"number\") {\n            cell = {data: parseFloat(stringValue)}\n        } else if (type === \"boolean\") {\n            if ([\"\", \"false\", \"0\"].includes(stringValue)) {\n                cell = {data: false,\n                    text: \"false\",\n                    order: 0}\n            } else {\n                cell = {data: true,\n                    text: \"true\",\n                    order: 1}\n            }\n        } else if (type === \"html\") {\n            cell = {data: [\n                {nodeName: \"#text\",\n                    data: value}\n            ],\n            text: value,\n            order: value}\n        } else if (type === \"string\") {\n            cell = {data: value}\n        } else if (type === \"date\") {\n            const format = this.dt.columns.settings[this.data.columnIndex].format || this.dt.options.format\n            cell = {data: value,\n                order: parseDate(String(value), format)}\n        } else {\n            cell = {data: value}\n        }\n        // Set the cell content\n        this.dt.data.data[this.data.rowIndex][this.data.columnIndex] = cell\n        this.closeModal()\n        const rowIndex = this.data.rowIndex\n        const columnIndex = this.data.columnIndex\n        this.data = {}\n        this.dt.update(true)\n        this.editing = false\n        this.editingCell = false\n        this.dt.emit(\"editable.save.cell\", value, oldData, rowIndex, columnIndex)\n    }\n\n    /**\n     * Edit row\n     * @param  {Object} row    The HTMLTableRowElement\n     * @return {Void}\n     */\n    editRow(tr: HTMLElement) {\n        if (!tr || tr.nodeName !== \"TR\" || this.editing) return\n        const rowIndex = parseInt(tr.dataset.index, 10)\n        const row = this.dt.data.data[rowIndex]\n        this.data = {\n            row,\n            rowIndex\n        }\n        this.editing = true\n        this.editingRow = true\n        if (this.options.inline) {\n            this.dt.update()\n        } else {\n            this.editRowModal()\n        }\n        this.closeMenu()\n    }\n\n    editRowModal() {\n        const row = this.data.row\n\n        const template = [\n            `<div class='${this.options.classes.inner}'>`,\n            `<div class='${this.options.classes.header}'>`,\n            \"<h4>Editing row</h4>\",\n            `<button class='${this.options.classes.close}' type='button' data-editor-close>×</button>`,\n            \" </div>\",\n            `<div class='${this.options.classes.block}'>`,\n            `<form class='${this.options.classes.form}'>`,\n            `<div class='${this.options.classes.row}'>`,\n            `<button class='${this.options.classes.save}' type='button' data-editor-save>Save</button>`,\n            \"</div>\",\n            \"</form>\",\n            \"</div>\",\n            \"</div>\"\n        ].join(\"\")\n        const modalDOM = createElement(\"div\", {\n            class: this.options.classes.modal,\n            html: template\n        })\n        const inner = modalDOM.firstElementChild\n        if (!inner) {\n            return\n        }\n        const form = inner.lastElementChild?.firstElementChild\n        if (!form) {\n            return\n        }\n        // Add the inputs for each cell\n        row.forEach((cell: cellType, i: number) => {\n            const columnSettings = this.dt.columns.settings[i]\n            if ((!columnSettings.hidden || (columnSettings.hidden && this.options.hiddenColumns)) && !this.options.excludeColumns.includes(i)) {\n                const label = this.dt.data.headings[i].text || String(this.dt.data.headings[i].data)\n                form.insertBefore(createElement(\"div\", {\n                    class: this.options.classes.row,\n                    html: [\n                        `<div class='${this.options.classes.row}'>`,\n                        `<label class='${this.options.classes.label}'>${escapeText(label)}</label>`,\n                        `<input class='${this.options.classes.input}' value='${escapeText(cell.text || String(cell.data) || \"\")}' type='text'>`,\n                        \"</div>\"\n                    ].join(\"\")\n                }), form.lastElementChild)\n            }\n        })\n        this.modalDOM = modalDOM\n        this.openModal()\n        // Grab the inputs\n        const inputs = Array.from(form.querySelectorAll(`input.${this.options.classes.input}[type=text]`)) as HTMLInputElement[]\n        // Remove save button\n        inputs.pop()\n\n        // Close / save\n        modalDOM.addEventListener(\"click\", (event: MouseEvent) => {\n            const target = event.target\n            if (!(target instanceof Element)) {\n                return\n            }\n            if (target.hasAttribute(\"data-editor-close\")) { // close button\n                this.closeModal()\n            } else if (target.hasAttribute(\"data-editor-save\")) { // save button\n                // Save\n                this.saveRow(inputs.map((input: HTMLInputElement) => input.value.trim()), this.data.row)\n            }\n        })\n    }\n\n    /**\n     * Save edited row\n     * @param  {Object} row    The HTMLTableRowElement\n     * @param  {Array} data   Cell data\n     * @return {Void}\n     */\n    saveRow(data: string[], row: cellType[]) {\n        // Store the old data for the emitter\n        const oldData = row.map((cell: cellType) => cell.text ?? String(cell.data))\n        this.dt.data.data[this.data.rowIndex] = this.dt.data.data[this.data.rowIndex].map((oldCell, colIndex) => {\n            const columnSetting = this.dt.columns.settings[colIndex]\n            if (columnSetting.hidden || this.options.excludeColumns.includes(colIndex)) {\n                return oldCell\n            }\n            const type = this.dt.columns.settings[colIndex].type || this.dt.options.type\n            const value = data[columnToVisibleIndex(colIndex, this.dt.columns.settings)]\n            const stringValue = value.trim()\n            let cell\n            if (type === \"number\") {\n                cell = {data: parseFloat(stringValue)}\n            } else if (type === \"boolean\") {\n                if ([\"\", \"false\", \"0\"].includes(stringValue)) {\n                    cell = {data: false,\n                        text: \"false\",\n                        order: 0}\n                } else {\n                    cell = {data: true,\n                        text: \"true\",\n                        order: 1}\n                }\n            } else if (type === \"html\") {\n                cell = {data: [\n                    {nodeName: \"#text\",\n                        data: value}\n                ],\n                text: value,\n                order: value}\n            } else if (type === \"string\") {\n                cell = {data: value}\n            } else if (type === \"date\") {\n                const format = this.dt.columns.settings[colIndex].format || this.dt.options.format\n                cell = {data: value,\n                    order: parseDate(String(value), format)}\n            } else {\n                cell = {data: value}\n            }\n            return cell\n        })\n        this.data = {}\n        this.dt.update(true)\n        this.closeModal()\n        this.dt.emit(\"editable.save.row\", data, oldData, row)\n    }\n\n    /**\n     * Open the row editor modal\n     * @return {Void}\n     */\n    openModal() {\n        if (this.modalDOM) {\n            document.body.appendChild(this.modalDOM)\n        }\n    }\n\n    /**\n     * Close the row editor modal\n     * @return {Void}\n     */\n    closeModal() {\n        if (this.editing && this.modalDOM) {\n            document.body.removeChild(this.modalDOM)\n            this.modalDOM = this.editing = this.editingRow = this.editingCell = false\n        }\n    }\n\n    /**\n     * Remove a row\n     * @param  {Object} tr The HTMLTableRowElement\n     * @return {Void}\n     */\n    removeRow(tr: HTMLElement) {\n        if (!tr || tr.nodeName !== \"TR\" || this.editing) return\n        const index = parseInt(tr.dataset.index, 10)\n        this.dt.rows.remove(index)\n        this.closeMenu()\n    }\n\n    /**\n     * Update context menu position\n     * @return {Void}\n     */\n    update() {\n        const scrollX = window.scrollX || window.pageXOffset\n        const scrollY = window.scrollY || window.pageYOffset\n        this.rect = this.wrapperDOM.getBoundingClientRect()\n        this.limits = {\n            x: window.innerWidth + scrollX - this.rect.width,\n            y: window.innerHeight + scrollY - this.rect.height\n        }\n    }\n\n    /**\n     * Dismiss the context menu\n     * @param  {Object} event Event\n     * @return {Void}\n     */\n    dismiss(event: Event) {\n        const target = event.target\n        if (!(target instanceof Element)) {\n            return\n        }\n        let valid = true\n        if (this.options.contextMenu) {\n            valid = !this.wrapperDOM.contains(target)\n            if (this.editing) {\n                valid = !this.wrapperDOM.contains(target) && !(target.matches(`input.${this.options.classes.input}[type=text]`))\n            }\n        }\n        if (valid) {\n            if (this.editingCell) {\n                // Revert\n                this.saveCell(this.data.content)\n            }\n            this.closeMenu()\n        }\n    }\n\n    /**\n     * Open the context menu\n     * @return {Void}\n     */\n    openMenu() {\n        if (this.editing && this.data && this.editingCell) {\n            const input = this.modalDOM ?\n                (this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement) :\n                (this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`) as HTMLInputElement)\n\n            this.saveCell(input.value)\n        }\n        if (this.options.contextMenu) {\n            document.body.appendChild(this.containerDOM)\n            this.closed = false\n            this.dt.emit(\"editable.context.open\")\n        }\n    }\n\n    /**\n     * Close the context menu\n     * @return {Void}\n     */\n    closeMenu() {\n        if (this.options.contextMenu && !this.closed) {\n            this.closed = true\n            document.body.removeChild(this.containerDOM)\n            this.dt.emit(\"editable.context.close\")\n        }\n    }\n\n    /**\n     * Destroy the instance\n     * @return {Void}\n     */\n    destroy() {\n        this.dt.dom.removeEventListener(this.options.clickEvent, this.events.click)\n        this.dt.dom.removeEventListener(\"contextmenu\", this.events.context)\n        document.removeEventListener(\"click\", this.events.dismiss)\n        document.removeEventListener(\"keydown\", this.events.keydown)\n        window.removeEventListener(\"resize\", this.events.reset)\n        window.removeEventListener(\"scroll\", this.events.reset)\n        if (document.body.contains(this.containerDOM)) {\n            document.body.removeChild(this.containerDOM)\n        }\n        if (this.options.inline) {\n            this.dt.options.rowRender = this.originalRowRender\n        }\n        this.initialized = false\n    }\n\n    rowRender(row, tr, index) {\n        if (!this.data || this.data.rowIndex !== index) {\n            return tr\n        }\n\n        if (this.editingCell) {\n            // cell editing\n            const cell = tr.childNodes[columnToVisibleIndex(this.data.columnIndex, this.dt.columns.settings)]\n            cell.childNodes = [\n                {\n                    nodeName: \"INPUT\",\n                    attributes: {\n                        type: \"text\",\n                        value: this.data.content,\n                        class: this.options.classes.input\n                    }\n                }\n            ]\n        } else {\n            // row editing\n\n            // Add the inputs for each cell\n            tr.childNodes.forEach((cell: elementNodeType, i: number) => {\n                const index = visibleToColumnIndex(i, this.dt.columns.settings)\n                const dataCell = row[index]\n                if (!this.options.excludeColumns.includes(index)) {\n                    const cell = tr.childNodes[i]\n                    cell.childNodes = [\n                        {\n                            nodeName: \"INPUT\",\n                            attributes: {\n                                type: \"text\",\n                                value: escapeText(dataCell.text || String(dataCell.data) || \"\"),\n                                class: this.options.classes.input\n                            }\n                        }\n                    ]\n                }\n            })\n\n        }\n        return tr\n\n    }\n}\n\nexport const makeEditable = function(dataTable: DataTable, options = {}) {\n    const editor = new Editor(dataTable, options)\n    if (dataTable.initialized) {\n        editor.init()\n    } else {\n        dataTable.on(\"datatable.init\", () => editor.init())\n    }\n\n    return editor\n}\n","// Source: https://www.freecodecamp.org/news/javascript-debounce-example/\n\nexport const debounce = function(func: () => void, timeout = 300) {\n    let timer: number\n    return (..._args: any[]) => {\n        clearTimeout(timer)\n        timer = window.setTimeout(() => func(), timeout)\n    }\n}\n"],"names":["isObject","val","Object","prototype","toString","call","isJson","str","t","JSON","parse","e","Array","isArray","createElement","nodeName","attrs","dom","document","attr","innerHTML","setAttribute","objToText","obj","includes","data","childNodes","map","childNode","join","escapeText","text","replace","visibleToColumnIndex","visibleIndex","columns","counter","columnIndex","hidden","columnToVisibleIndex","n","o","s","createTextNode","createComment","createElementNS","toLowerCase","attributes","entries","forEach","appendChild","valueDiffing","value","HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement","checked","selected","slice","length","splice","i","a","c","l","_const","action","r","route","addElement","addTextElement","u","diff","node","preDiffApply","addAttribute","Element","name","modifyAttribute","newValue","removeAttribute","modifyTextElement","Text","textDiff","oldValue","modifyValue","modifyComment","Comment","modifyChecked","modifySelected","replaceElement","parentNode","replaceChild","relocateGroup","apply","groupLength","removeChild","from","to","insertBefore","removeElement","d","h","element","namespaceURI","removeTextElement","nodeType","console","log","postDiffApply","newNode","push","class","concat","id","keys","outerDone","innerDone","valueDone","every","hasOwnProperty","Boolean","reverse","f","arguments","some","p","m","_","V","subsets","subsetsAge","this","list","add","stringify","setValue","nodeIndex","preVirtualDiffApply","delete","filter","postVirtualDiffApply","g","HTMLTextAreaElement","type","v","N","create","b","y","w","area","base","br","col","embed","hr","img","input","keygen","link","menuItem","meta","param","source","track","wbr","E","match","toUpperCase","charAt","startsWith","indexOf","voidElement","RegExp","exec","trim","split","lastIndex","substring","k","components","x","options","t1","t2","diffcount","foundAll","debug","t1Orig","t2Orig","tracker","init","findDiffs","diffcap","Error","findNextDiff","error","maxDepth","findOuterDiff","filterOuterDiff","findInnerDiff","findValueDiff","Math","abs","sort","max","maxChildCount","attemptGroupRelocation","gaps1","gaps2","min","O","compress","window","T","undo","headingsToVirtualHeaderRowDOM","headings","columnSettings","columnsState","classes","format","hiddenHeader","sortable","scrollY","noColumnWidths","unhideHeader","heading","index","column","searchable","headerClass","directionClass","dir","ascending","descending","filters","filterActive","style","widths","headerNodes","String","href","sorter","dataToVirtualDOM","tableAttributes","rows","rowCursor","header","footer","rowRender","tabIndex","renderHeader","table","row","tr","cell","cIndex","td","cellClass","render","renderedCell","stringToObj","cursor","renderedRow","headerRow","thead","unshift","tfoot","structuredClone","tabindex","exports","$","M","weekdays","months","ordinal","z","utcOffset","floor","date","year","month","clone","ceil","D","ms","Q","S","args","locale","$L","utc","$u","$x","$offset","$d","Date","NaN","test","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","$locale","weekStart","$set","daysInMonth","get","Number","round","subtract","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","toJSON","toISOString","toUTCString","extend","$i","isDayjs","en","Ls","LTS","LT","L","LL","LLL","LLLL","zone","offset","afternoon","milliseconds","SS","Do","day","Y","ZZ","formats","regex","parser","hours","customParseFormat","parseTwoDigitYear","minutes","seconds","dayjs","parseDate","content","readDataCell","constructor","find","key","cellData","order","parseInt","undefined","readHeaderCell","readTableData","dataOption","defaultType","defaultFormat","tHead","querySelectorAll","th","nodeToObj","innerText","readDOMHeaderCell","settings","dataset","getAttribute","_cell","tBodies","cells","readDOMDataCell","isNaN","parseFloat","Rows","dt","setCursor","oldCursor","_renderTable","cursorDOM","querySelector","scrollIntoView","block","emit","hasRows","update","remove","select","_row","findRowIndex","findIndex","findRow","cols","updateRow","Columns","_state","columnOptions","selector","numeric","caseFirst","sensitivity","ignorePunctuation","sortSequence","readColumnSettings","swap","_node","hide","show","visible","newColumnSelector","_heading","currentFilter","newFilterState","returnNext","_currentPage","currentDir","currentDirIndex","collator","Intl","Collator","usage","row1","row2","order1","order2","temp","compare","_searchQueries","multiSearch","_measureWidths","activeHeadings","fixedColumns","renderOptions","noPaging","headerDOM","parentElement","activeDOMHeadings","firstElementChild","domCounter","absoluteColumnWidths","width","offsetWidth","totalOffsetWidth","reduce","total","cellWidth","defaultConfig","destroyable","paging","perPage","perPageSelect","nextPrev","firstLast","prevText","nextText","firstText","lastText","ellipsisText","truncatePager","pagerDelta","fixedHeight","rowNavigation","pagerRender","tableRender","labels","placeholder","searchTitle","noRows","noResults","info","template","top","dropdown","search","container","bottom","pagination","active","disabled","ellipsis","empty","headercontainer","loading","paginationList","paginationListItem","paginationListItemLink","wrapper","page","label","state","createVirtualPagerDOM","onFirstPage","onLastPage","currentPage","totalPages","pagerListItems","prev","pages","paginationListItems","pagesLength","doublePagerDelta","previousPage","nextPage","paginationListItemsToModify","li","previousLi","modifiedLis","pageNumber","previousPageNumber","newLi","truncate","next","DataTable","HTMLTableElement","_initialInnerHTML","_listeners","onResize","_onResize","_dd","DiffDOM","initialized","_events","hasHeadings","classList","contains","_virtualDOM","_tableAttributes","_render","setTimeout","wrapperDOM","choice","lab","option","Option","containerDOM","_pagerDOMs","el","HTMLElement","_virtualPagerDOM","_label","_rect","getBoundingClientRect","_fixHeight","_bindEvents","newVirtualDOM","renderedTableVirtualDOM","_renderPage","lastRowCursor","lastPage","setMessage","items","current","_searchData","string","_renderPagers","newPagerVirtualDOM","renderedPagerVirtualDOM","diffs","pagerDOM","_renderSeparateHeader","_virtualHeaderDOM","tableVirtualDOM","newVirtualHeaderDOM","paddingRight","clientWidth","paddedVirtualHeaderDOM","scrollHeight","clientHeight","overflowY","HTMLSelectElement","addEventListener","event","target","matches","preventDefault","searches","term","hyperlink","closest","hasAttribute","children","lastRow","stopPropagation","foundRow","nextRow","destroy","removeEventListener","measureWidths","_paginate","filterState","height","queries","query","queryWords","columnQuery","normalize","idx","searchRow","queryWord","insert","rIndex","refresh","print","tableDOM","newTableVirtualDOM","open","body","message","colspan","on","callback","off","convertCSV","userOptions","lineDelimiter","columnDelimiter","removeDoubleQuotes","shift","values","convertJSON","json","warn","exportCSV","download","skipColumn","columnShown","headers","selection","encodeURI","filename","click","exportJSON","replacer","space","arr","blob","Blob","url","URL","createObjectURL","revokeObjectURL","exportSQL","tableName","exportTXT","form","item","menu","save","close","inner","modal","editable","separator","editCell","editRow","removeRow","reallyRemove","inline","hiddenColumns","contextMenu","clickEvent","excludeColumns","menuItems","editor","_event","confirm","Editor","dataTable","originalRowRender","newTr","menuDOM","html","closed","editing","editingRow","editingCell","bindEvents","events","context","bind","dismiss","keydown","reset","func","timeout","timer","_args","clearTimeout","debounce","pageX","pageY","limits","rect","left","openMenu","modalDOM","saveCell","closeModal","inputs","saveRow","cellIndex","closeMenu","rowIndex","editCellModal","openModal","focus","selectionStart","selectionEnd","oldData","stringValue","editRowModal","lastElementChild","pop","oldCell","colIndex","scrollX","pageXOffset","pageYOffset","innerWidth","innerHeight","valid","dataCell","makeEditable"],"mappings":"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"}